<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="Astro v1.6.15">
    <link rel="icon" type="image/png" sizes="16x16" href="/TizenSchool/assets/images/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/TizenSchool/assets/images/favicon-32x32.png">
    <title>How to create &quot;Music Player&quot; App</title>
  <link rel="stylesheet" href="/TizenSchool/assets/aboutus.9016036b.css" />
<link rel="stylesheet" href="/TizenSchool/assets/10.013d619c.css" />
<link rel="stylesheet" href="/TizenSchool/assets/10.0e005638.css" /></head>
  <body>
    <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()},window.dispatchEvent(new Event("astro:load"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="2r5SHS" component-url="/TizenSchool/Header.fde63186.js" component-export="default" renderer-url="/TizenSchool/client.788af3ea.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Header&quot;,&quot;value&quot;:true}" await-children=""><div class="flex max-w-6xl mx-auto h-[80px] items-center justify-between"><a class="block bg-[url('/TizenSchool/assets/images/logo.png')] w-[212px] h-[52px]" href="/"></a>
  

<div class="flex w-[380px]"><input class="border-b text-lg border-[#436c9b] outline-none grow" value="">
  <div class="w-4 ml-3 bg-search bg-no-repeat bg-center hover:bg-search-hover cursor-pointer"></div></div>
  <a class="self-start text-[15px] pt-1 hover:font-semibold" href="/aboutus/">About us</a></div></astro-island><div class="text-default max-w-6xl mx-auto border-t border-default mt-4">
    <div class="text-3xl font-extrabold text-amber-400 leading-[30px] pt-[30px]">
      How to create &quot;Music Player&quot; App
    </div>
    <div class="flex gap-4 items-end">
      <div class="grow text-lg basis-0">The Music Player application demonstrates how to display and play music using Tizen Media Content and Player APIs.</div><div class="flex w-[216px] gap-[10px]">
        <img src="/TizenSchool/assets/images/iot-dimmed.png">
        <img src="/TizenSchool/assets/images/wearable-dimmed.png">
        <img src="/TizenSchool/assets/images/mobile-dimmed.png">
        <img src="/TizenSchool/assets/images/smart-tv-active.png">
      </div>
    </div>
    <div class="mt-7 text-[0.93rem]">
      Created <span class="font-bold mr-8">2018/07/14</span>
            Modified
            <span class="font-bold">2018/10/15</span>
    </div>
  </div><astro-island uid="Wqunv" component-url="/TizenSchool/TextContent.c7f4d9de.js" component-export="default" renderer-url="/TizenSchool/client.788af3ea.js" props="{&quot;pageCount&quot;:[0,22],&quot;toc&quot;:[1,&quot;[[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. Overview\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. Base code\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. Track model\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;I. Introduction\&quot;]}],[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. Goal\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. Info about current track\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. Scrollable Grid (Custom Control)\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;II. Soundtrack List View\&quot;]}],[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. Goal\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. Info about current track\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. Image Button (Custom Control)\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;III. Preview Page View\&quot;]}],[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. MillisecondsToTimeConverter\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. ByteArrayToImageSourceConverter\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. BooleanToStringConverter\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;4. NegateBooleanConverter\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;IV. Converters\&quot;]}],[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. Music Content Service\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. Usage of the MusicContentService (PlayerModel)\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. Selecting the current track\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;4. Player Service\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;5. Usage of the PlayerService (PlayerModel)\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;V. Player\&quot;]}],[0,{\&quot;page\&quot;:[1,\&quot;[[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;1. Soundtracks list item template (TrackListViewCell)\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;2. Preview Page buttons logic\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;3. Progress bar and duration label logic\\\&quot;]}],[0,{\\\&quot;title\\\&quot;:[0,\\\&quot;4. No tracks available information\\\&quot;]}]]\&quot;],\&quot;chapter\&quot;:[0,\&quot;VI. Finishing touches\&quot;]}]]&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;TextContent&quot;,&quot;value&quot;:true}" await-children="">

<div class="flex justify-center h-12 shadow-[0_2px_10px_#cfcfcf] bg-stone-100 my-[40px]"><div class="flex flex-grow justify-center relative items-center max-w-6xl"><button class="w-[184px] h-[34px absolute left-0 rounded-sm font-extrabold text-[17px] leading-[34px] after:content-[''] after:h-[10px] after:w-[10px] after:inline-block after:bg-no-repeat after:bg-center after:ml-3 bg-primary text-white after:rotate-90 S after:bg-arrow hover:bg-[#2aa29e]">Table of Content
</button>




    
<div class="
    h-[30px] w-[30px] rounded-full bg-arrow 
    bg-[position:12px_7px] 
    bg-[size:8px] 
    bg-no-repeat
    rotate-180
    last:rotate-0
    border border-[#dfdfdf] bg-arrow-page-grey
  "></div>
<span class="font-extrabold w-28 text-center text-xl text-tutorial">1/22</span>

<div class="
    h-[30px] w-[30px] rounded-full bg-arrow 
    bg-[position:12px_7px] 
    bg-[size:8px] 
    bg-no-repeat
    rotate-180
    last:rotate-0
    bg-primary bg-arrow hover:bg-[#2aa29e] cursor-pointer
  "></div></div></div>
<div class="max-w-6xl min-h-[400px] mx-auto text-tutorial"><astro-slot><div class="text-lg tutorial-container"><div class="chapter" style="display: none;"><div></div><h1 id="i-introduction">I. Introduction</h1><h2 id="1-overview">1. Overview</h2>
<p>In this tutorial, we will create a Music Player application which will use Tizen Media Content and Player APIs to take information about tracks from device and to play them on TV.</p>
<p>The final version of the application consists of 3 pages:</p>
<p>The <strong>Welcome Page</strong> is displayed at the application startup and it is visible only once per application run.</p>
<p>It contains the “Get started” button which navigates to the Soundtrack List Page.</p>
<img src="/TizenSchool/assets/images/tutorials/108/welcome_page.png" style="height:480px; width:853px">
<p>The <strong>Soundtrack List Page</strong> displays the list of tracks with basic information about them -&nbsp;covers, titles, albums and artists names.</p>
<p>It is possible to select the track and&nbsp;navigate to <strong>Preview Page</strong> by pressing the big cover at the left side of the screen.</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_page_2.png" style="height:480px; width:853px">
<p>The <strong>Preview Page</strong> displays the information about the track as well as its&nbsp;duration and current position of the playback in time in the form of progress bar and label.</p>
<p>It allows also to manage the playback -&nbsp;play or pause the track, rewind or forward the track as well as change the track to next or previous one.</p>
<p>Going back to&nbsp; <strong>Soundtrack List Page</strong> is performed by pressing the back button on remote.</p>
<img src="/TizenSchool/assets/images/tutorials/108/_preview_page.png" style="height:480px; width:853px">
<p>Content of this tutorial is under <a href="http://floralicense.org/license">Flora</a> license.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="i-introduction">I. Introduction</h1><h2 id="2-base-code">2. Base code</h2>
<p>The goal of <strong>Soundtrack List Page</strong> is to:</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_page_2.png" style="height:480px; width:853px">
</div><div class="chapter" style="display: none;"><div></div><h1 id="i-introduction">I. Introduction</h1><h2 id="3-track-model">3. Track model</h2>
<p>To import the project which will be explained in this tutorial, download the <a href="https://tizenschool.org/assets/images/tutorials/108/MusicPlayer.zip">base code</a>, and refer to this <a href="https://samsung.github.io/TizenSchool/tutorial/110/contents/1">tutorial</a>, which will explain how to import project to the Visual Studio.</p>
<p>Application source code has been organized in such way, that it is possible to easily expand to other platforms and devices.</p>
<img src="/TizenSchool/assets/images/tutorials/108/application_structure.PNG" style="height:480px; width:312px">
<p>As you can see the main solution is divided into two parts:</p>
<p>To access platform specific part from the portable part the <strong>DependencyService</strong> mechanism is used - portable part uses interfaces to perform an actions on objects, which by DependencyService are directed to the proper implementation for&nbsp;platform specific part.</p>
<p>The base code already contains the <strong>Welcome Page</strong> , which briefly describes the purpose of this application as well as all of the classes which will be used later, however classes are not implemented yet, except those related to navigation and&nbsp;base for ViewModels implementing <strong>INotifyPropertyChanged</strong> interface.&nbsp;There are&nbsp;also present the bodies&nbsp;of interfaces which will be used to implement the native functionalities and the Track model, which just represents the single track present on the device.</p>

</div><div class="chapter" style="display: none;"><div></div><h1 id="ii-soundtrack-list-view">II. Soundtrack List View</h1><h2 id="1-goal">1. Goal</h2>
<p>Application consists of 2 pages - <strong>Soundtracks List Page</strong> and <strong>Preview Page</strong> . Both of them utilizes almost the same properties, that’s why application will use only one ViewModel - <strong>MainViewModel</strong> , which will be shared by both views.</p>
<p>The first step in our application will be displaying the basic information about the current track at the left side of the <strong>Soundtracks List Page</strong> . To achieve this goal firstly add the property to the ViewModel and initialize it, so it can be used in a View.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 532px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> The view model constructor.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_navigation</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">DependencyService</span><span style="color: #999">.</span><span style="color: #DD4A68">Get</span><span style="color: #999">&lt;</span><span style="color: #000">IViewNavigation</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">InitCommands</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This is only temporary solution, because later the <strong><em>CurrentTrack</em></strong> will be initialized and provided by the <strong>PlayerModel</strong> , current code&nbsp;is only the way to test our view if it properly displays information about the track.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 336px; top: 56px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Grid.RowDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">RowDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Height</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">406</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">RowDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Height</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">*</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.RowDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">96</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">406</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">60</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1420</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Tha base layout of our view will be the <strong>Grid</strong> . It enables easy elements placement, even on top of each other (which will be used in this solution), by dividing the screen into <strong>Rows</strong> and <strong>Columns</strong> defined by the programmer.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 420px; top: 140px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/img_music_info_nocover.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">InputTransparent</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">True</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_music_info_play.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Button</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding GoToPreviewPageCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">BorderColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Opacity</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0.5</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>To achieve the appearance and behaviour of the left panel, especially the album cover, which is focusable and after pressing it, application should navigate to the <strong>Preview Page</strong> , we will place few elements on top of each other. The first element will be an&nbsp; <strong>Image</strong> of album cover (for now it is only the default cover, later it will be changed to the cover assigned to&nbsp;track). The second element will be the <strong>Image</strong> &nbsp;which is the icon indicating if there is ongoing playback or if player is paused. Connecting this icon to the player will be added later, for now it is only the placeholder, which is centered in a cell, on top of the cover of the track. The last element is the <strong>Button</strong> . It is placed on top of the two previous elements and it has <strong><em>BackgroundColor</em></strong> &nbsp;and <strong><em>BorderColor</em></strong> &nbsp;set to “Transparent”, so this doesn’t hide anything what&nbsp;is under it. The&nbsp; <strong><em>Opacity</em></strong> &nbsp;is set to 0.5, so this doesn’t also hide anything when the button is focused, what is more - it simulates the focus on the album cover. <strong>Button</strong> &nbsp;is also used here, because it has the&nbsp; <strong><em>Command</em></strong> &nbsp;property, which allows to bind the <strong>Command</strong> performing some operations to be fired&nbsp;when <strong>Button</strong> &nbsp;is pressed.</p>
<p>Presented approach is beneficial for our application, because this allows to simulate, that the album cover with player indicator is the one element, which is focusable, but we keep it separeted in a code,&nbsp;by what the elements work independently from each other, so we can easily change them during the application run.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 420px; top: 252px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Button</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding GoToPreviewPageCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #690">BorderColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #690">Opacity</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0.5</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                 </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Title}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">60</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0, 6, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artist}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">47</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0, 0, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Album}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">47</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0, -12, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The last thing added to the left side panel is the <strong><em>Title</em></strong> ,&nbsp; <strong><em>Artist</em></strong> and&nbsp; <strong><em>Album</em></strong> &nbsp;of the <strong><em>CurrentTrack</em></strong> . These will be shown using the <strong>Labels</strong> &nbsp;(placed in <strong>StackLayout</strong> which&nbsp;is inside the <strong>Grid</strong> layout) with&nbsp; <strong><em>Text</em></strong> &nbsp;property binded to the properties of the <strong><em>CurrentTrack</em></strong> , this will make the information provided by these <strong>Labels</strong> consistent with the currently selected <strong>Track</strong> .</p>
<p>After building and executing the application the <strong>Soundtracks List Page</strong> should look like this:</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_page_first.png" style="height:480px; width:853px">
<p>After pressing the albums cover, we should be navigated to the <strong>Preview Page</strong> .</p>
<p>What is still missing is the tracklist at the right side of the screen. Due to rather complex implementation of this element, we will add it in a next step&nbsp;as a custom control, which can be placed and used easily in our view.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="ii-soundtrack-list-view">II. Soundtrack List View</h1><h2 id="2-info-about-current-track">2. Info about current track</h2>
<p>Application requires the control&nbsp;which allows to display the list of tracks in form which is&nbsp;horizontally scrollable. Unfortunately, Xamarin Forms doesn’t provide such a control, but don’t worry! This is a problem&nbsp;where we can create own custom control, which will behave in a way&nbsp;suitable for our application and it will be highly reusable in other projects!</p>
<p>Our scrollable list should look like on the following figure</p>
<img src="/TizenSchool/assets/images/tutorials/108/scrollable_grid_no_covers_big.PNG" style="height:390px; width:816px">
<p>To achieve such look of the control in XAML part only <strong>ScrollView</strong> element will be added with orientation set to “Horizontal” option. This is control available in&nbsp;the Xamarin Forms and it allows to scroll the elements which are inside this control. Generating elements of our custom control will be handled in code behind part of the&nbsp;control, so this is the reason why it also required to add x:Name=“scroll” to <strong>ScrollView</strong> element to make access&nbsp;from code behind possible.</p>
<p><em>MusicPlayer/Control/ <strong>ScollableGrid</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 140px; top: 84px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">ScrollView</span><span style="color: #BBBBBB"> </span><span style="color: #690">Orientation</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Horizontal</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">VerticalScrollBarVisibility</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Never</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">HorizontalScrollBarVisibility</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Never</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Name</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">scroll</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">ScrollView</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>After that let’s jump into the code behind part of the control and let’s create few properties which will be necessary to implement the expected behaviour of our&nbsp;custom control.</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 532px; top: 56px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set number of rows in list.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">RowsProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Rows</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">0</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets number of rows in list.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">Rows</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">RowsProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">RowsProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This property will allow the user of control to set the maximum number of rows of items in each column. Properties in this control will get and set data to <strong>BindableProperty</strong> object, because it allows to use binding on this property when it is being set by user and to handle the <strong>propertyChanged</strong> event (and in our case generating the control again, which will be shown later).</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 1652px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set width of single item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItemProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">WidthOfItem</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">0</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets width of single item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItem</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">WidthOfItemProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">WidthOfItemProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set height of single item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItemProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">HeightOfItem</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">0</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets height of single item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItem</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">HeightOfItemProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">HeightOfItemProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set space between lists.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">SpaceBetweenColumnsProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">SpaceBetweenColumns</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">0</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets space between lists.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">SpaceBetweenColumns</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">SpaceBetweenColumnsProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">SpaceBetweenColumnsProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>There are few properties being introduced, but their purpose is almost the same - it is to get and set the width and height of single item in our <strong>ScrollableGrid</strong> &nbsp;as well as the space between the columns. Using this properties allows our control to be as much flexible as it is possible.</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 1064px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the item source.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemsSourceProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">ItemsSource</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">IEnumerable</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">default</span><span style="color: #999">(</span><span style="color: #000">IEnumerable</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the item source.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">IEnumerable</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemsSource</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">IEnumerable</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">ItemsSourceProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">ItemsSourceProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set data template for item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemTemplateProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">ItemTemplate</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">DataTemplate</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets data template for item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">DataTemplate</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemTemplate</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">DataTemplate</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">ItemTemplateProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">ItemTemplateProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 644px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set command to invoke when the grid item is pressed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">CommandProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Command</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ICommand</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPropertyChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> The command to invoke when grid item is pressed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ICommand</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">CommandProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">CommandProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets the lists of items.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #A67F59">&lt;</span><span style="color: #000">List</span><span style="color: #A67F59">&lt;</span><span style="color: #000">object</span><span style="color: #A67F59">&gt;&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">DividedList</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The last two properties, which will be used are <strong><em>Command</em></strong> and <strong><em>DividedList</em></strong> .</p>
<p>That’s all properties which will be used in the control. Now let’s jump into the methods which will be responsible for generating the grid.</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 700px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Divides the items source into lists of specified length.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">DivideItemsIntoColumns</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">DividedList</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #07A">object</span><span style="color: #999">&gt;&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ItemsSource</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">         </span><span style="color: #07A">foreach</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">t</span><span style="color: #BBBBBB"> </span><span style="color: #07A">in</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemsSource</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">         </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">              </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Rows</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">              </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">%</span><span style="color: #BBBBBB"> </span><span style="color: #000">Rows</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">                        </span><span style="color: #000">DividedList</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #07A">object</span><span style="color: #999">&gt;());</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #000">DividedList</span><span style="color: #999">[</span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">/</span><span style="color: #BBBBBB"> </span><span style="color: #000">Rows</span><span style="color: #999">].</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #000">t</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">              </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">              </span><span style="color: #000">i</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">          </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">     </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The above method just divides the given <strong><em>ItemSource</em></strong> collection into the list of lists of maximum length specfied in&nbsp; <strong><em>Rows</em></strong> property and it saves the result into the property&nbsp; <strong><em>DividedList</em></strong> , which as mentioned before is used internally by the custom control. This method prepares the data for futher processing and displaying it in the <strong>GenerateGrid</strong> method.</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 1596px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Displays the grid.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GenerateGrid</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Grid</span><span style="color: #BBBBBB"> </span><span style="color: #000">grid</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Grid</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">for</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&lt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">Rows</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #A67F59">++</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">RowDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">RowDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Height</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItem</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">RowSpacing</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">2</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">scroll</span><span style="color: #999">.</span><span style="color: #000">Content</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">grid</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">foreach</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">t</span><span style="color: #BBBBBB"> </span><span style="color: #07A">in</span><span style="color: #BBBBBB"> </span><span style="color: #000">DividedList</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">ColumnDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Width</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItem</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">ColumnDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Width</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">SpaceBetweenColumns</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">foreach</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">item</span><span style="color: #BBBBBB"> </span><span style="color: #07A">in</span><span style="color: #BBBBBB"> </span><span style="color: #000">t</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">Button</span><span style="color: #BBBBBB"> </span><span style="color: #000">btn</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Button</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">HeightRequest</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItem</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">WidthRequest</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItem</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Command</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">CommandParameter</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">View</span><span style="color: #BBBBBB"> </span><span style="color: #000">cell</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemTemplate</span><span style="color: #999">.</span><span style="color: #DD4A68">CreateContent</span><span style="color: #999">()</span><span style="color: #BBBBBB"> </span><span style="color: #07A">as</span><span style="color: #BBBBBB"> </span><span style="color: #000">View</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">cell</span><span style="color: #999">.</span><span style="color: #000">BindingContext</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">item</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">Children</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetRow</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetColumn</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">Children</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetRow</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetColumn</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Focused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">s</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0.1</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Unfocused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">s</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">y</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">index</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">x</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #905">2</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Purpose of this method is to generate the grid with the elements given in the&nbsp; <strong><em>ItemSource</em></strong> &nbsp;property which are displayed in a way specified in&nbsp; <strong><em>ItemTemplate</em></strong> property. It also has to enable the possibility to focus and to press an item in a list (which causes executing&nbsp;the Command binded in&nbsp; <strong><em>Command</em></strong> &nbsp;property of our custom control).</p>
<p>To create new <strong>Grid</strong> and to generate the rows and&nbsp;assign the grid to the view ( <strong>SrollView</strong> element in XAML part of the control)&nbsp;it does the following:</p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #000">Grid</span><span style="color: #BBBBBB"> </span><span style="color: #000">grid</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Grid</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #07A">for</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&lt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">Rows</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">i</span><span style="color: #A67F59">++</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">RowDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">RowDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Height</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItem</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">RowSpacing</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">2</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #000">scroll</span><span style="color: #999">.</span><span style="color: #000">Content</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">grid</span><span style="color: #999">;</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Later, method adds two columns to the existing grid for each list in <strong><em>DividedList</em></strong> &nbsp;property - one with width equal to&nbsp; <strong><em>WidthOfItem</em></strong> &nbsp;property and second one as a space between actual columns with width equal to&nbsp; <strong><em>SpaceBetweenColumns</em></strong> :</p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #07A">foreach</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">t</span><span style="color: #BBBBBB"> </span><span style="color: #07A">in</span><span style="color: #BBBBBB"> </span><span style="color: #000">DividedList</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">ColumnDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Width</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItem</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">ColumnDefinitions</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">Width</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">SpaceBetweenColumns</span><span style="color: #BBBBBB"> </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>After that, for each item inside the certain list there is created the <strong>Button</strong> with width and height equal to those specified by user. Under the button there will be the item with view given in <strong><em>ItemTemplate</em></strong> , that’s why opacity of a button is 0 (and this value is being changed to 0.1 when <strong>Button</strong> &nbsp;fires <strong>Focused</strong> event, to simulate the focus on an item). <strong>Button</strong> &nbsp;also has Command property set to&nbsp; <strong><em>Command</em></strong> &nbsp;property of our <strong>ScrollableGrid</strong> control and CommandParameter equal to variable called index - this variable will be passed when executing Command and it represents the index of the item in&nbsp; <strong><em>ItemSource</em></strong> &nbsp;property, this allows the user to properly identify pressed item. Later the item view is being created from the given&nbsp; <strong><em>ItemTemplate</em></strong> . The <strong>BindingContext</strong> &nbsp;of this single cell is set to the certain item in the list. After everything being set up, item view is being placed in a proper cell in a grid and on top of it <strong>Button</strong> created before is placed.</p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #07A">foreach</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">item</span><span style="color: #BBBBBB"> </span><span style="color: #07A">in</span><span style="color: #BBBBBB"> </span><span style="color: #000">t</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Button</span><span style="color: #BBBBBB"> </span><span style="color: #000">btn</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Button</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">HeightRequest</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">HeightOfItem</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">WidthRequest</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">WidthOfItem</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Command</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">CommandParameter</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">View</span><span style="color: #BBBBBB"> </span><span style="color: #000">cell</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">ItemTemplate</span><span style="color: #999">.</span><span style="color: #DD4A68">CreateContent</span><span style="color: #999">()</span><span style="color: #BBBBBB"> </span><span style="color: #07A">as</span><span style="color: #BBBBBB"> </span><span style="color: #000">View</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">cell</span><span style="color: #999">.</span><span style="color: #000">BindingContext</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">item</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">Children</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetRow</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetColumn</span><span style="color: #999">(</span><span style="color: #000">cell</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">grid</span><span style="color: #999">.</span><span style="color: #000">Children</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetRow</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">y</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Grid</span><span style="color: #999">.</span><span style="color: #DD4A68">SetColumn</span><span style="color: #999">(</span><span style="color: #000">btn</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Focused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">s</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0.1</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Unfocused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">s</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">btn</span><span style="color: #999">.</span><span style="color: #000">Opacity</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">y</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">index</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Ok, so now we have all of the methods, which are required to generate the grid, but there is one more thing which have to be implemented inside <strong>ScrollableGrid</strong> .</p>
<p><em>MusicPlayer/Control/ <strong>ScrollableGrid</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 420px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the property changed event for properties.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">bindable</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">BindableObject which raised the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">oldValue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Old value of property.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">newValue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">New value of property</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnPropertyChanged</span><span style="color: #999">(</span><span style="color: #000">BindableObject</span><span style="color: #BBBBBB"> </span><span style="color: #000">bindable</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">oldValue</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">newValue</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">ScrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #000">scrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ScrollableGrid</span><span style="color: #999">)</span><span style="color: #000">bindable</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">scrollableGrid</span><span style="color: #999">.</span><span style="color: #DD4A68">DivideItemsIntoColumns</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">scrollableGrid</span><span style="color: #999">.</span><span style="color: #000">ItemTemplate</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">scrollableGrid</span><span style="color: #999">.</span><span style="color: #DD4A68">GenerateGrid</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This method is a callback for the change of <strong>BindableProperty</strong> , it just re-assigns the <strong><em>DividedList</em></strong> &nbsp;property by firing the <strong>DivideItemsIntoColumns</strong> method and&nbsp;if the&nbsp; <strong><em>ItemTemplate</em></strong> &nbsp;property is set it fires <strong>GenerateGrid</strong> function to display the <strong>ScrollableGrid</strong> with updated properties. Using this callback on properties ensures that the view of the custom control is proper for given properties.</p>
<p>That’s the whole implementation of the <strong>ScrollableGrid</strong> , so we can try to test how this control will look on our <strong>Soundtrack List Page</strong> .</p>
<p>Firstly, we have to create some property which will be&nbsp; <strong><em>ItemSource</em></strong> &nbsp;for our custom control in ViewModel.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 392px; top: 560px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets list of loaded tracks.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #A67F59">&lt;</span><span style="color: #000">Track</span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Tracks</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #000">Track</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_1</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_1</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_1</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_2</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_2</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_2</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_3</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_3</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_3</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_4</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_4</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_4</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_5</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_5</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_5</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_6</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_6</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_6</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_7</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_7</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_7</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_8</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_8</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_8</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_9</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_9</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_9</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_10</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_10</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_10</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span><span style="color: #BBBBBB">,</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title_11</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist_11</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album_11</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>To display this list on the view add the following code, which just binds the <strong><em>Tracks</em></strong> from the <strong>MainViewModel</strong> &nbsp;to&nbsp; <strong><em>ItemSource</em></strong> &nbsp;property of <strong>ScrollableGrid</strong> &nbsp;and sets other properties of the control to achieve the final appereance of the page. The&nbsp; <strong><em>ItemTemplate</em></strong> &nbsp;for now is simply taking only Title, Artist and Album properties of a <strong><em>Tracks</em></strong> , it will be later replaced with <strong>TrackListViewCell</strong> &nbsp;template, which will be our final template.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtrackListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 504px; top: 84px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #690">Rows</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">4</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">ItemsSource</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Tracks}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">3</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Grid.RowSpan</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">2</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">WidthOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">570</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">SpaceBetweenColumns</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">25</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">HeightOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">134</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid.ItemTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">DataTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#1b1b1b</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Title}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Artist}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Album}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;/</span><span style="color: #905">DataTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid.ItemTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The final result after rebuilding the project should look like on the following screen:</p>
<img src="/TizenSchool/assets/images/tutorials/108/scrollable_grid_part_1.png" style="height:480px; width:853px">
<p>The list should scroll horizontally when we are pressing arrows on the remote control. This solution doesn’t look&nbsp;like we want for now, but it behaves like we expected.&nbsp;Final item&nbsp;template will be added in another step as well as the behaviour after selecting the item.</p>
<p>We will later come back to this part, but for now the next step is the <strong>Preview Page</strong> view.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="ii-soundtrack-list-view">II. Soundtrack List View</h1><h2 id="3-scrollable-grid-custom-control">3. Scrollable Grid (Custom Control)</h2>
<p>Application will use model <em>MusicPlayer/Models/ <strong>Track</strong> .cs</em> &nbsp;to store the information about the single track. This model is already implemented and it won’t be changed in this tutorial, however let’s quickly go through the code implemented inside this class.</p>
<p><em>MusicPlayer/Models/ <strong>Track</strong> .cs</em></p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Title of the track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Title</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Represents the artist name.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Artist</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Represents the album name.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Album</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>These are the basic properties, which represent the Title of the track, Artists and Albums name.</p>
<p><em>MusicPlayer/Models/ <strong>Track</strong> .cs</em></p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Represents the track artwork.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">byte</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">Artwork</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>Artwork</em></strong> represents the image assigned to the track (it will be taken from the files metadata). It is stored as a byte array for the flexibility (later it can be changed to required objects by converters).</p>
<p><em>MusicPlayer/Models/ <strong>Track</strong> .cs</em></p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Path to the track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Path</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Duration of the track (in milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">Duration</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>These two properties stores information about path to track file and duration of the track in milliseconds.</p>
<p><em>MusicPlayer/Models/ <strong>Track</strong> .cs</em></p>
<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes Track class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">title</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Title of the track.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">artist</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Name of the artist.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">album</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Title of the album.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">artwork</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Artwork of the track.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">path</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Path to the track.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">duration</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Duration of the track (in milliseconds).</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Track</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">title</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">artist</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">album</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">byte</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">artwork</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">path</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">duration</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Title</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">title</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Artist</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">artist</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Album</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">album</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Artwork</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">artwork</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Path</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">path</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Duration</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">duration</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The only method available in the model is the constructor of the class, which just assignsproperties with values given as an arguments of the constructor.</p>
<p>Track model will be used in almost every place in our application, so now we will be able to use it properly as we are familiarized with it.</p>

</div><div class="chapter" style="display: none;"><div></div><h1 id="iii-preview-page-view">III. Preview Page View</h1><h2 id="1-goal-1">1. Goal</h2>
<p>The goal of&nbsp; <strong>Preview Page</strong> &nbsp;is to:</p>
<img src="/TizenSchool/assets/images/tutorials/108/_preview_page.png" style="height:480px; width:853px">
</div><div class="chapter" style="display: none;"><div></div><h1 id="iii-preview-page-view">III. Preview Page View</h1><h2 id="2-info-about-current-track-1">2. Info about current track</h2>
<p>There is nothing more to add to the ViewModel, because as long as the <strong>Soundtrack List Page</strong> and <strong>Preview Page</strong> share the same instance of the <strong>MainViewModel</strong> , the data between the views is persistent, including the current track.</p>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 448px; top: 84px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">97, 67, 97, 0</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Title}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">76</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Bold</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">         </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artist}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">50</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">         </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/img_music_info_nocover.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0, 79, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">HeightRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">578</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">WidthRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">578</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Let’s start building the page from displaying the information about <strong><em>Title</em></strong> and <strong><em>Artist</em></strong> of the current track by adding the <strong>Labels</strong> &nbsp;with <strong><em>Text</em></strong> &nbsp;properties binded to the corresponding properties inside the <strong><em>CurrentTrack</em></strong> . <strong><em>Artwork</em></strong> assigned to the track will be added later, because logic of displaying the actual artwork or the default one will be handled later by the converter, so for now let’s stick to the <strong>Image</strong> at the center of the screen with <strong><em>Source</em></strong> assigned to default cover.</p>
<p>Next thing to add is the <strong>ProgressBar</strong> and the information about track playback and duration. To use the <strong>ProgressBar</strong> it will be useful to get some property from ViewModel defining the progress of the track as value from 0 to 1 (beacuse the <strong>ProgressBar</strong> given by Xamarin Forms&nbsp;utilizes the <strong><em>Progress</em></strong> property, which takes the value from 0 to 1).</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 476px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1092px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Specifying progress of the track as value from 0 to 1.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">double</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackProgress</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets progress of the track as value from 0 to 1.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">double</span><span style="color: #BBBBBB"> </span><span style="color: #000">TrackProgress</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackProgress</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetProperty</span><span style="color: #999">(</span><span style="color: #07A">ref</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackProgress</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">TrackProgress</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0.4</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>TrackProgress</em></strong> &nbsp;is property with backing field. This property is initialized in a ViewModel constructor, later it will be updated during the track playback to reflect the change in the playback position of&nbsp;the player.</p>
<p>Now, let’s go back to <strong>Preview Page</strong> &nbsp;layout and let’s add the <strong>ProgressBar</strong> .</p>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">97, 67, 97, 0</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">ProgressBar</span><span style="color: #BBBBBB"> </span><span style="color: #690">Progress</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TrackProgress}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Black</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">-97, 103, -97, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">WidthRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1920</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong>ProgressBar</strong> &nbsp;just binds <strong><em>TrackProgress</em></strong> &nbsp;property to its own&nbsp; <strong><em>Progress</em></strong> property. Also the <strong><em>BackgroundColor</em></strong> &nbsp;is set to “Black” for better appearance.</p>
<p>After executing the application and navigating to the <strong>Preview Page</strong> the result should look like this:
<img src="/TizenSchool/assets/images/tutorials/108/preview_page_with_progress_bar_without_duration.png" style="height:480px; width:853px"></p>
<p>There are still two things missing. One thing are the <strong>Labels</strong> &nbsp;representing <strong>Track</strong> &nbsp;duration and current playback position of a player. Due to lack of the <strong>PlayerModel</strong> &nbsp;and converter which will convert the integer with number of milliseconds to time string,&nbsp;let’s just place the <strong>Labels</strong> &nbsp;with placeholder data, this will be changed later.</p>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 336px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">97, 67, 97, 0</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">00:01:30</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">66, 46, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#0081C6</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">00:03:50</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">200, 46, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#F5F5F5</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The final result for this part will be like on the following figure:
<img src="/TizenSchool/assets/images/tutorials/108/preview_page_with_progress_bar_with_duration.png" style="height:480px; width:853px"></p>
<p>The second thing which is missing in this view are&nbsp;the buttons at the bottom for&nbsp;controlling the player. Because there is no easy way to add the buttons with custom focus/pressing effect and irregular shape of the focus/press overlay (by default focusing an element and pressing it is in form of rectangular overlay), we will implement such custom control with this features in a next step.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="iii-preview-page-view">III. Preview Page View</h1><h2 id="3-image-button-custom-control">3. Image Button (Custom Control)</h2>
<p>In our application we want to add the buttons in the <strong>Preview Page</strong> &nbsp;which shape is non rectangular as well as its focus and pressing image. With&nbsp;default <strong>Button</strong> &nbsp;it is not possible. However we might be smart and we can simulate something similar in a tricky way with help of the own custom control - <strong>ImageButton</strong> . Of course using this custom control in other project will be possible without any problems.</p>
<p>Our assumption for this control is that it will deliver:</p>
<img src="/TizenSchool/assets/images/tutorials/108/_image_buttons.PNG" style="height:85px; width:404px">
<p>As a first step let’s just copy the whole snippet into the <strong>ImageButton</strong> .xaml.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 504px; top: 0px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">&lt;?</span><span style="color: #905">xml</span><span style="color: #690"> version</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1.0</span><span style="color: #999">"</span><span style="color: #690"> encoding</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">UTF-8</span><span style="color: #999">"</span><span style="color: #999">?&gt;</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentView</span><span style="color: #BBBBBB"> </span><span style="color: #690">xmlns</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">http://xamarin.com/schemas/2014/forms</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">xmlns</span><span style="color: #999">:</span><span style="color: #690">x</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">http://schemas.microsoft.com/winfx/2009/xaml</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Class</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">MusicPlayer.Control.ImageButton</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Name</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Root</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">  </span><span style="color: #999">&lt;</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Spacing</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">2000</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding DisplayedImage, Source={x:Reference Root}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Name</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">imageButtonImage</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Button</span><span style="color: #BBBBBB"> </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Command, Source={x:Reference Root}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #690">Focused</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">OnFocused</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #690">Unfocused</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">OnUnfocused</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #690">Clicked</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">OnClicked</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #690">WidthRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #690">HeightRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentView</span><span style="color: #999">&gt;</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>This is the final layout of the custom control, because all other things will be handled in the code behind. As you can see the whole <strong>ContentView</strong> &nbsp;has its own x:Name=“Root”, this will be used&nbsp;for enabling the possibility to utilize custom controls own properties in the bindings, not from the current&nbsp; <strong>BindingContext</strong> of a parent by adding to the <strong>Binding</strong> the ” <em>Source={x:Reference Root}</em> ”. The content of this control is put inside the <strong>StackLayout</strong> with <strong><em>Spacing</em></strong> property set to 2000 - to place the first element in the visible area of the screen and&nbsp;hide the other elements of the control under the screen. The first - visible - element is an&nbsp; <strong>Image</strong> with the <strong><em>Source</em></strong> &nbsp;property set to <strong><em>DisplayedImage</em></strong> (present in code behind of our custom control), which will represent the <strong>Button</strong> , despite of that <strong>Image</strong> itself is not focusable or pressable. That’s why the second element, hence not visible on the screen, is <strong>Button</strong> , which allows to raise the Focused, Unfocused and Clicked events as well as execute&nbsp;the <strong>Command</strong> . This is the thing that does the trick, because we put callbacks on this events in code behind and they will change the appearance of the <strong>Image</strong> above by modifying <strong><em>DisplayImage</em></strong> property.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 392px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 4424px; top: 644px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Duration for pressed state of button in milliseconds.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">const</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">PRESSED_TIME</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">200</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gives information if button is focused.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">_isFocused</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Path of currently displayed image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">_displayedImage</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets the currently displayed image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">DisplayedImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_displayedImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_displayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #DD4A68">OnPropertyChanged</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of default button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">DefaultImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">DefaultImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnDefaultImageChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the default image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">DefaultImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">DefaultImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">DefaultImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of second state default button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateDefaultImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">SecondStateDefaultImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the second state default image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateDefaultImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStateDefaultImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStateDefaultImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of focused button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusedImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">FocusedImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the focused state image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusedImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">FocusedImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">FocusedImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of second state focused button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateFocusedImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">SecondStateFocusedImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the second state focused image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateFocusedImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStateFocusedImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStateFocusedImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of pressed button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">PressedImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">PressedImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the pressed state image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">PressedImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">PressedImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">PressedImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set the image of second state pressed button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStatePressedImageProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">SecondStatePressedImage</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets the second state pressed image.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStatePressedImage</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStatePressedImageProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">SecondStatePressedImageProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set command to invoke when the button is pressed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">CommandProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Command</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ICommand</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> The command to invoke when the button is pressed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ICommand</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">CommandProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">CommandProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to define if button is in second state.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsInSecondStateProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">IsInSecondState</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">bool</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">false</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">propertyChanged</span><span style="color: #999">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnIsInSecondStateChanged</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gives information if button is in second state.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsInSecondState</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">bool</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">IsInSecondStateProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">IsInSecondStateProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This quite long snippet is the definition of all fields and properties, which will be needed in our custom control. <strong><em>PRESSED_TIME</em></strong> constant is the number, which represents the duration (in milliseconds) for&nbsp; <strong>ImageButton</strong> persistence in pressed state, after pressing the <strong>Button</strong> . <strong><em>_isFocused</em></strong> field is for internal information of the control if <strong>Button</strong> &nbsp;is currently in the focused state. <strong><em>_displayedImage</em></strong> &nbsp;is backing field for the <strong><em>DisplayedImage</em></strong> property, to which <strong>Image</strong> in the xaml part of the custom control binds its <strong><em>Source</em></strong> property to. Setter of the <strong><em>DisplayedImage</em></strong> &nbsp;performs OnPropertyChanged() method to refresh the binded data.&nbsp;All of the following properties goes with <strong>BindableProperties</strong> , to allow the final user of this custom control to bind own properties to our <strong>ImageButton</strong> :</p>
<p>The next thing is to implement methods&nbsp;which will build the logic of our control.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 280px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for focusing the button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Focus event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnFocused</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusEventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsInSecondState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">?</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateFocusedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusedImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_isFocused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">true</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>OnFocused method is fired by the <strong>Button</strong> (placed inside the xaml part of the control), when it is focused. Then the <strong><em>DisplayedImage</em></strong> property changes to the path to the&nbsp;image of the focused button in first or second state, depending on <strong><em>IsInSecondState</em></strong> property. The other thing is that <strong><em>_isFocused</em></strong> &nbsp;is set to <em>true</em> for informing the control internally that it is currently in focused state.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 280px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for unfocusing the button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Focus event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnUnfocused</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusEventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">     </span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsInSecondState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">?</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStateDefaultImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">DefaultImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">     </span><span style="color: #000">_isFocused</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>OnUnfocused method is fired by the <strong>Button</strong> (placed inside the xaml part of the control), when it is unfocused. Then the <strong><em>DisplayedImage</em></strong> property changes to the path to the&nbsp;image of the unfocused button in first or second state, depending on <strong><em>IsInSecondState</em></strong> property.&nbsp;&nbsp; <strong><em>_isFocused</em></strong> &nbsp;is set to <em>false</em> for informing the control internally that it is currently in unfocused state.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 504px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for clicking the button.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Clicked event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnClicked</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsInSecondState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">?</span><span style="color: #BBBBBB"> </span><span style="color: #000">SecondStatePressedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">PressedImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Device</span><span style="color: #999">.</span><span style="color: #DD4A68">StartTimer</span><span style="color: #999">(</span><span style="color: #000">TimeSpan</span><span style="color: #999">.</span><span style="color: #DD4A68">FromMilliseconds</span><span style="color: #999">(</span><span style="color: #000">PRESSED_TIME</span><span style="color: #999">),</span><span style="color: #BBBBBB"> </span><span style="color: #999">()</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">SecondStateDefaultImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">FocusedImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>OnClicked method is fired by the <strong>Button</strong> (placed inside the xaml part of the control), when it is pressed. Then the <strong><em>DisplayedImage</em></strong> property changes to the path to the&nbsp;image of the pressed button in first or second state, depending on <strong><em>IsInSecondState</em></strong> property for number of milliseconds specified in PRESSED*TIME constant. If **_SecondStateDefaultImage*** &nbsp;is not set, it means that <strong><em>ImageButton</em></strong> &nbsp;doesn’t have second state, so <strong><em>DisplayedImage</em></strong> &nbsp;goes back to <strong><em>FocusedImage</em></strong> (in other case it is changed in the callback for changing&nbsp; <strong><em>IsInSecondState</em></strong> &nbsp;property according to current state of the **ImageButton** ). At the end of the method <em>false</em> &nbsp;is being returned, because Device.StartTimer performs its operation in loop until the return statement is equal to&nbsp; <em>false</em> .</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 504px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handler for changing the value of IsInSecondState property.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">bindable</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">BindableObject which raised the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">oldvalue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Old value of property.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">newvalue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">New value of property</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnIsInSecondStateChanged</span><span style="color: #999">(</span><span style="color: #000">BindableObject</span><span style="color: #BBBBBB"> </span><span style="color: #000">bindable</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">oldvalue</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">newvalue</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">)</span><span style="color: #000">bindable</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">_isFocused</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">bool</span><span style="color: #999">)</span><span style="color: #000">newvalue</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">?</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">SecondStateFocusedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">FocusedImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">bool</span><span style="color: #999">)</span><span style="color: #000">newvalue</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">?</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">SecondStateDefaultImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">:</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">DefaultImage</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This method is a handler for changing the&nbsp; <strong><em>IsInSecondState</em></strong> &nbsp;property. It checks if <strong>Button</strong> &nbsp;is currently focused and then assigns to&nbsp; <strong><em>DisplayedImage</em></strong> &nbsp;proper path to image of a button, suitable for current state of a control.</p>
<p><em>MusicPlayer/Control/ <strong>ImageButton</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 308px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handler for changing the value of DefaultImage property.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">bindable</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">BindableObject which raised the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">oldvalue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Old value of property.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">newvalue</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">New value of property</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnDefaultImageChanged</span><span style="color: #999">(</span><span style="color: #000">BindableObject</span><span style="color: #BBBBBB"> </span><span style="color: #000">bindable</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">oldvalue</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">newvalue</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #000">myself</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">ImageButton</span><span style="color: #999">)</span><span style="color: #000">bindable</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">myself</span><span style="color: #999">.</span><span style="color: #000">DisplayedImage</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #000">newvalue</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The last method in code behind of <strong>ImageButton</strong> &nbsp;custom control is handler for changing the <strong><em>DefaultImage</em></strong> property. This method ensures, that <strong><em>DisplayedImage</em></strong> is consistent with current <strong><em>DefaultImage</em></strong> value if it is changed.</p>
<p>Now, our custom control is ready to use, so let’s place it on the <strong>Preview Page</strong> of our application.</p>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 812px; top: 252px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">97, 67, 97, 0</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">00:03:50</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">200, 46, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#F5F5F5</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">control</span><span style="color: #999">:</span><span style="color: #905">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #690">DefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_previous_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">FocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_previous_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">PressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_previous_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding GoToPreviousTrackCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">610, 26, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">control</span><span style="color: #999">:</span><span style="color: #905">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #690">DefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_rewind_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">FocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_rewind_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">PressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_rewind_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding RewindTrackCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">726, 26, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">control</span><span style="color: #999">:</span><span style="color: #905">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #690">DefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_pause_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">FocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_pause_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">PressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_pause_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">SecondStateDefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_play_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">SecondStateFocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_play_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">SecondStatePressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_play_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">IsInSecondState</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding IsPaused}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding PlayOrPauseTrackCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">822, 26, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">control</span><span style="color: #999">:</span><span style="color: #905">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #690">DefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_forward_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">FocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_forward_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">PressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_forward_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding ForwardTrackCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">918, 26, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">control</span><span style="color: #999">:</span><span style="color: #905">ImageButton</span><span style="color: #BBBBBB"> </span><span style="color: #690">DefaultImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_next_normal.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">FocusedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_next_focused.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">PressedImage</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_viewer_control_next_pressed.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding GoToNextTrackCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                             </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1014, 26, 0, 0</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>So these are all of the 5 buttons which are needed to manage the player on <strong>Preview Page</strong> . <strong><em>Command</em></strong> properties are binded to various&nbsp; <strong>Command</strong> s inside ViewModel as well as <strong><em>IsInSecondState</em></strong> property&nbsp;of <strong>ImageButton</strong> representing play/pause button is binded to <strong><em>IsPaused</em></strong> &nbsp;property of <strong>MainViewModel</strong> , so let’s create these properties.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 896px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Determines if track is paused.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsPaused</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which executes the procedure of changing to the previous track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">GoToPreviousTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which executes the procedure of seeking backward.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">RewindTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which executes the procedure of pausing/playing the track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayOrPauseTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which executes the procedure of seeking forward.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">ForwardTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which executes the procedure of changing to the next track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">GoToNextTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Currently the&nbsp; <strong><em>IsPaused</em></strong> &nbsp;property is just returning <em>false,</em> because for now we don’t have <strong>PlayerModel</strong> , which will provide later the current state of a player. The other properties are <strong>Command</strong> s for managing the player. As a last thing in this part of tutorial just initialize those <strong>Commands</strong> and point them to actual methods, which will be implemented later.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 1316px; top: 280px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes commands.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">InitCommands</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">GoToPreviousTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">(</span><span style="color: #000">GoToPreviousTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">RewindTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">(</span><span style="color: #000">RewindTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">PlayOrPauseTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">(</span><span style="color: #000">PlayOrPauseTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">ForwardTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">(</span><span style="color: #000">ForwardTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">GoToNextTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">(</span><span style="color: #000">GoToNextTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "GoToPreviousTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GoToPreviousTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "RewindTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">RewindTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "PlayOrPauseTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayOrPauseTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "ForwardTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">ForwardTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "GoToNextTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GoToNextTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Now layout of our <strong>Preview Page</strong> is&nbsp;finished and it should look like this:</p>
<img src="/TizenSchool/assets/images/tutorials/108/_preview_page_without_logic.png" style="height:480px; width:853px">

</div><div class="chapter" style="display: none;"><div></div><h1 id="iv-converters">IV. Converters</h1><h2 id="1-millisecondstotimeconverter">1. MillisecondsToTimeConverter</h2>
<p>In this chapter we will implement converters, which we already need (and after we implement&nbsp;them, they&nbsp;will be used in proper places in the application) or will be needed&nbsp;in future, when more logic of the application will be&nbsp;implemented.</p>
<p>Do you remember&nbsp;track duration and track playback position labels on the&nbsp; <strong>Preview Page</strong> ? As told before the text values was just given as placeholders. Now let’s implement the converter, which will change the milliseconds given in an integer to properly formatted string, which can be placed as a <strong><em>Text</em></strong> &nbsp;property in our labels.</p>
<p><em>MusicPlayer/Converters/ <strong>MillisecondsToTimeConverter</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Converts milliseconds to time string.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">value</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Number of milliseconds.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">targetType</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Target type of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">parameter</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Parameters of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">culture</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Provides information about a specific culture.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">String representing time (in format "hh:mm:ss").</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Convert</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Type</span><span style="color: #BBBBBB"> </span><span style="color: #000">targetType</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">parameter</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">System</span><span style="color: #999">.</span><span style="color: #000">Globalization</span><span style="color: #999">.</span><span style="color: #000">CultureInfo</span><span style="color: #BBBBBB"> </span><span style="color: #000">culture</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">TimeSpan</span><span style="color: #999">.</span><span style="color: #DD4A68">FromMilliseconds</span><span style="color: #999">((</span><span style="color: #07A">int</span><span style="color: #999">)</span><span style="color: #000">value</span><span style="color: #999">).</span><span style="color: #DD4A68">ToString</span><span style="color: #999">(</span><span style="color: #999">@"</span><span style="color: #690">hh\:mm\:ss</span><span style="color: #999">"</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>So just change this one line in the <strong>Convert</strong> method. This method creates object of type <strong>TimeSpan</strong> (which represents a length of time and provides easy way to manipulate this time) from the integer representing the number of milliseconds given as an input to the converter. This <strong>TimeSpan</strong> object is later converted to string of specified format - in this case ” <em>hh:mm:ss</em> ” (hours:minutes:seconds) and this string is the return statement of the converter.</p>
<p>That’s all the code which have to be present in the converter, now let’s try to use this to display the duration of a track and current position of the playback.</p>
<p>Firstly, add the backing field and a property in the&nbsp;ViewModel&nbsp;which will represent the current playback position.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 420px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1036px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Specifying the information about playback position of the track (in milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackPlaybackPosition</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets information about playback position of the track (in milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">TrackPlaybackPosition</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackPlaybackPosition</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetProperty</span><span style="color: #999">(</span><span style="color: #07A">ref</span><span style="color: #BBBBBB"> </span><span style="color: #000">_trackPlaybackPosition</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">TrackProgress</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0.4</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">TrackPlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Initializing this property inside constructor with 0 is just temporary, because later this will be updated periodically with data from the player. Now let’s add the code which will utilize this property and our converter.&nbsp;Normally it will be necessary also to somehow point the converter and give it the key, so it can be used in the xaml parts of the code, but in&nbsp;case of our base code it is already done in the <em>MusicPlayer/</em> <strong><em>MusicPlayer</em></strong> <em>.xaml</em> file in the <strong><em>ResourceDictionary</em></strong> of the whole application.&nbsp;The <strong><em>x:Key</em></strong> given for this converter is ” <em>MillisecondsToTime</em> ”, so the usage will be like in the following code:</p>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 84px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 224px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TrackPlaybackPosition, Converter={StaticResource MillisecondsToTime}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">66, 46, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#0081C6</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Duration, Converter={StaticResource MillisecondsToTime}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">200, 46, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">           </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#F5F5F5</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">AbsoluteLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Let’s try to build the solution and run it. After navigating to the <strong>Preview Page</strong> &nbsp;the labels representing the track playback position and duration looks like this:</p>
<img src="/TizenSchool/assets/images/tutorials/108/preview_page_duration_converter.PNG" style="height:91px; width:261px">
<p>Now it shows only “00:00:00” and this is consistent with the data in the <strong>MainViewModel</strong> . Later it will properly display the data&nbsp;which will be taken from the player.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="iv-converters">IV. Converters</h1><h2 id="2-bytearraytoimagesourceconverter">2. ByteArrayToImageSourceConverter</h2>
<p>In the metadata of an audio file there is present the artwork metadata field. If this field is set then it represents the image which is the track cover. It is in a form of a byte array and&nbsp;it is&nbsp;not stored anywhere directly on device as a separate file, so to display this image we can’t just set the path to this, assigning byte array directly to <strong>Image</strong> &nbsp;object is also not possible, so our solution will use the converter, which will convert byte array into <strong>ImageSource</strong> , which can be assigned to <strong><em>Source</em></strong> property of an <strong>Image</strong> object. If the given byte array is empty, then method will return the <strong>ImageSource</strong> with image taken from the file, which path&nbsp;is passed to the <strong>Converter</strong> method as a parameter.</p>
<p><em>MusicPlayer/Converters/ <strong>ByteArrayToImageSourceConverter</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 280px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Converts byte array to image source.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">value</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Value of the byte array.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">targetType</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Target type of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">parameter</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Parameters of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">culture</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Provides information about a specific culture.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">Image source object from byte array or cover for unknown artwork.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Convert</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Type</span><span style="color: #BBBBBB"> </span><span style="color: #000">targetType</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">parameter</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">System</span><span style="color: #999">.</span><span style="color: #000">Globalization</span><span style="color: #999">.</span><span style="color: #000">CultureInfo</span><span style="color: #BBBBBB"> </span><span style="color: #000">culture</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">value</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">byte</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">imageAsBytes</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">byte</span><span style="color: #999">[])</span><span style="color: #000">value</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">stream</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">MemoryStream</span><span style="color: #999">(</span><span style="color: #000">imageAsBytes</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">ImageSource</span><span style="color: #999">.</span><span style="color: #DD4A68">FromStream</span><span style="color: #999">(()</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">stream</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">ImageSource</span><span style="color: #999">.</span><span style="color: #DD4A68">FromFile</span><span style="color: #999">((</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #000">parameter</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>So let’s explain this code step by step. If the input passed to the parameter is not null, then we create new byte array from byte array given as an input, next two&nbsp;lines creates the <strong>MemoryStream</strong> from the recently created byte array, because in the next line it is necessary to use this stream to create and return the <strong>ImageSource</strong> . If the given value is null, then it means that there is no any artwork attached to the file, so the image from the file specified as a converter parameter is being returned (the path to image with default cover).</p>
<p>This converter will be used in the <strong>Soundtracks List Page</strong> for the cover at the left side of the screen and in the <strong>Preview Page</strong> &nbsp;for the cover displayed at the center. For now it will always display only the default cover, however after implementing the logic taking the tracks from the device it will display the cover assigned to the certain track. To use the converter it is again, as in a case of the <strong>MillisecondsToTimeConverter</strong> , nothing more to add, because in the given base code the converter is being added to the <strong><em>ResourceDictionary</em></strong> of the application under the <strong><em>x:Key</em></strong> equal to ” <em>ByteArrayToImageSource</em> “.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 196px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artwork, Converter={StaticResource ByteArrayToImageSource},</span></span>
<span class="line"><span style="color: #07A">                        ConverterParameter='images/img_music_info_nocover.png'}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">InputTransparent</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">True</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/btn_music_info_play.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><em>MusicPlayer/Views/ <strong>PreviewPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 224px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">97, 67, 97, 0</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artist}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">50</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artwork, Converter={StaticResource ByteArrayToImageSource},</span></span>
<span class="line"><span style="color: #07A">                                    ConverterParameter='images/img_music_info_nocover.png'}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0, 79, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HeightRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">578</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">WidthRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">578</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>So as you can see, the <strong><em>Source</em></strong> &nbsp;property of an <strong>Image</strong> &nbsp;is being binded to the <strong><em>Artwork</em></strong> of a <strong>Track</strong> which is byte array, however it is passed to the new converter, alongside with the <strong><em>ConverterParameter</em></strong> , which is the path to the image representing default cover.</p>
<p>After running the project now, nothing should be changed and this is the expected behavior, because no <strong><em>Artwork</em></strong> is set for&nbsp;our <strong><em>CurrentTrack</em></strong> . Later after adding the logic taking the tracks from the device the covers assigned to the certain file will be automatically displayed.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="iv-converters">IV. Converters</h1><h2 id="3-booleantostringconverter">3. BooleanToStringConverter</h2>
<p>In the <strong>SoundtrackListPage</strong> &nbsp;there is a left side panel with indicator if player is playing or if it is paused. It will be nice to just change the <strong><em>Source</em></strong> &nbsp;of the <strong>Image</strong> with the path to the image, which we want to display for current state of a player. So our idea is to make the converter which will take the boolean value as an input and will output the string with path to the image, which we want to display.</p>
<p><em>MusicPlayer/Converters/ <strong>BooleanToStringConverter</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 392px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Converters boolean value to string (possible values passed as parameter).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">value</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Boolean value.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">targetType</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Target type of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">parameter</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">String array with possible values.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">culture</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Provides information about a specific culture.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">Proper string for given boolean value.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Convert</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Type</span><span style="color: #BBBBBB"> </span><span style="color: #000">targetType</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">parameter</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">System</span><span style="color: #999">.</span><span style="color: #000">Globalization</span><span style="color: #999">.</span><span style="color: #000">CultureInfo</span><span style="color: #BBBBBB"> </span><span style="color: #000">culture</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">string</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">possibleStrings</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">parameter</span><span style="color: #BBBBBB"> </span><span style="color: #07A">as</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #999">[];</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">possibleStrings</span><span style="color: #999">.</span><span style="color: #000">Length</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&lt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">2</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">((</span><span style="color: #07A">bool</span><span style="color: #999">)</span><span style="color: #000">value</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">possibleStrings</span><span style="color: #999">[</span><span style="color: #905">0</span><span style="color: #999">];</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">possibleStrings</span><span style="color: #999">[</span><span style="color: #905">1</span><span style="color: #999">];</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Our converter takes the parameter which should be an array of strings, so as a first step, method&nbsp;casts the parameter object to the string array and it checks if length of the array is not lower than 2, because we want to have 2 strings, which represent the path - one for&nbsp; <em>true</em> &nbsp;input value and another for&nbsp; <em>false</em> , so the value of the input is being checked and the corresponding values from array are being returned.</p>
<p>This converter can be used now, however to make it work and display the current state of a player it is required to implement the player service logic, which will be done later.</p>
<p>To use the converter there is nothing more to add, because it is already given to the <strong><em>ResourceDictionary</em></strong> of the application under the <strong>x:Key</strong> set to ” <em>BooleanToString</em> ”. So let’s just place it inside the code.</p>
<p>Our converter requires not only the value to be passed, but also the parameter, which is string array of possible return values, so to achieve this goal let’s create such array inside the xaml part of <strong>SoundtracksListPage</strong> .</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 168px; top: 28px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Resources</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">Array</span><span style="color: #BBBBBB"> </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Key</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">ImageArray</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #690">Type</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{x:Type x:String}</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">String</span><span style="color: #999">&gt;</span><span style="color: #BBBBBB">images/btn_music_info_play.png</span><span style="color: #999">&lt;/</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">String</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">String</span><span style="color: #999">&gt;</span><span style="color: #BBBBBB">images/btn_music_info_pause.png</span><span style="color: #999">&lt;/</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">String</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">x</span><span style="color: #999">:</span><span style="color: #905">Array</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Resources</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>To create array inside xaml, you can place it inside <strong><em>Reources</em></strong> of the <strong>ContentPage</strong> . Then you create an array ( <strong>x:Array</strong> ), give it an&nbsp; <strong><em>x:Key</em></strong> &nbsp;- in this case ” <em>ImageArray</em> ” and set <strong><em>Type</em></strong> of the array to string. Then inside the array element there are two&nbsp;items placed within tag ” <strong>x:String</strong> ”, which represents the string and it is the place to specify the paths to the images. Later the usage of such array and passing it to the converter is the following:</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Artwork, Converter={StaticResource ByteArrayToImageSource},</span></span>
<span class="line"><span style="color: #07A">                        ConverterParameter='images/img_music_info_nocover.png'}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">InputTransparent</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">True</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding IsPaused, Converter={StaticResource BooleanToString},</span></span>
<span class="line"><span style="color: #07A">                        ConverterParameter={StaticResource ImageArray}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">       </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>Source</em></strong> &nbsp;of the <strong>Image</strong> &nbsp;is binded to <strong><em>IsPaused</em></strong> &nbsp;property of a ViewModel (which is already present in our <strong>MainViewModel</strong> , beacuse we have been using this property inside <strong>Preview Page</strong> ), however <strong><em>IsPaused</em></strong> &nbsp;is boolean value, so it is passed to our new converter <strong>BooleanToString</strong> &nbsp;alongside with&nbsp; <strong>ImageArray</strong> . This solution displays the <strong>Image</strong> we want for certain boolean value, which is passed directly from the ViewModel, so after changing the <strong><em>IsPaused</em></strong> property, appearance of the indicator will be consistent with state of the player and nothing more has to be done here.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="iv-converters">IV. Converters</h1><h2 id="4-negatebooleanconverter">4. NegateBooleanConverter</h2>
<p>One more converter, which will be useful in our application is a&nbsp;converter which will just take the boolean value and return its opposite value. The code for this converter will be very simple and it will be just:</p>
<p><em>MusicPlayer/Converters/ <strong>NegateBooleanConverter</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Converts boolean value to opposite value.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">value</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Boolean value.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">targetType</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Target type of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">parameter</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Parameters of conversion.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">culture</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Provides information about a specific culture.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">Opposite boolean value.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Convert</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Type</span><span style="color: #BBBBBB"> </span><span style="color: #000">targetType</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">parameter</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">CultureInfo</span><span style="color: #BBBBBB"> </span><span style="color: #000">culture</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!</span><span style="color: #999">(</span><span style="color: #07A">bool</span><span style="color: #999">)</span><span style="color: #000">value</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This code just takes the input value and returns the negation of the input. This will be used when we will be building the logic for the information about no tracks available to play, however it will be implemented later (again it is not required to do anything more to use this converter, because it is already added to the <strong><em>ResourceDictionary</em></strong> of the application under the <strong><em>x:Key</em></strong> equal to ” <em>NegateBoolean</em> ”).</p>
<p>This is all of the converters, which will be used in the application, as you can see they are simple, yet powerful feature. Anyway, now let’s jump to the next chapter!</p>

</div><div class="chapter" style="display: none;"><div></div><h1 id="v-player">V. Player</h1><h2 id="1-music-content-service">1. Music Content Service</h2>
<p>Before we will be able to play any track, we have to load an audio file from a device with its metadata&nbsp;to be able to display information about it. To achieve this, we have to implement the <strong>MusicContentService</strong> &nbsp;from native part of the project which implements <strong>IMusicContentService</strong> , thus it is accessible from the shared part of the project through <strong>DependencyService</strong> .</p>
<p>Let’s jump into native part of the project and let’s add few fields.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>MusicContentService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 392px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Sample log tag for Music Player application.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">const</span><span style="color: #BBBBBB"> </span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">SAMPLE_LOG_TAG</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">MusicPlayerSample</span><span style="color: #999">"</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Represents the music type in filter query.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">const</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">TYPE_MUSIC</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">3</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> An instance of MediaDatabase class.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">MediaDatabase</span><span style="color: #BBBBBB"> </span><span style="color: #000">_mediaDatabase</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The above fields represents the tag of the application, which will be displayed in the log in case of error. <strong><em>TYPE_MUSIC</em></strong> constant represents the type which we want to search in the filesystem. According to the Tizen documentation audio files are represented by the “3”, so this is why this constant is set to “3”. Last field <strong><em>_mediaDatabase</em></strong> &nbsp;represents an instance of the <strong>MediaDatabase</strong> &nbsp;class which stores information about the files in the system and we will be taking the information about audio files from it. This database is updated by the system when new files appear on&nbsp;the device or when system is being restarted (it can be also done by the application, but we won’t do this, because it takes big amount of time to update this database, so it will be better if we leave the updates to the system). To use the database, let’s initialize it in the constructor of our service.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>MusicContentService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 252px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> MusicContentService class constructor.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MusicContentService</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_mediaDatabase</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">MediaDatabase</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We will also&nbsp;add the destructor of our service which will dispose the <strong>MediaDatabase</strong> &nbsp;to release the resources, when database won’t be longer used.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>MusicContentService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 196px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> MusicContentService class destructor.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #A67F59">~</span><span style="color: #DD4A68">MusicContentService</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_mediaDatabase</span><span style="color: #999">.</span><span style="color: #DD4A68">Dispose</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Now we are ready to implement the method which is given by the <strong>IMusicContentService</strong> interface - <strong>GetTracksFromDevice</strong> which returns the list of <strong>Track</strong> s.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>MusicContentService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 924px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets tracks from device.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">A collection of audio tracks.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #000">Track</span><span style="color: #999">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GetTracksFromDevice</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #000">Track</span><span style="color: #999">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">tracklist</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #999">&lt;</span><span style="color: #000">Track</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">try</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_mediaDatabase</span><span style="color: #999">.</span><span style="color: #DD4A68">Connect</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">selectArgs</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">SelectArguments</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">FilterExpression</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">MEDIA_TYPE = </span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+</span><span style="color: #BBBBBB"> </span><span style="color: #000">TYPE_MUSIC</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">mediaInfoCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">MediaInfoCommand</span><span style="color: #999">(</span><span style="color: #000">_mediaDatabase</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">var</span><span style="color: #BBBBBB"> </span><span style="color: #000">selectedMedia</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">mediaInfoCommand</span><span style="color: #999">.</span><span style="color: #DD4A68">SelectMedia</span><span style="color: #999">(</span><span style="color: #000">selectArgs</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">while</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">selectedMedia</span><span style="color: #999">.</span><span style="color: #DD4A68">Read</span><span style="color: #999">())</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">tracklist</span><span style="color: #999">.</span><span style="color: #DD4A68">Add</span><span style="color: #999">(</span><span style="color: #DD4A68">MediaInfoToTrack</span><span style="color: #999">((</span><span style="color: #000">AudioInfo</span><span style="color: #999">)</span><span style="color: #000">selectedMedia</span><span style="color: #999">.</span><span style="color: #000">Current</span><span style="color: #999">));</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">catch</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Exception</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">Log</span><span style="color: #999">.</span><span style="color: #DD4A68">Error</span><span style="color: #999">(</span><span style="color: #000">SAMPLE_LOG_TAG</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">.</span><span style="color: #000">Message</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">finally</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_mediaDatabase</span><span style="color: #999">.</span><span style="color: #DD4A68">Disconnect</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">tracklist</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This method will be responsible for providing information about the tracks stored on the device to our application. Let’s go through it step by step. Firstly, the <strong><em>tracklist</em></strong> variable is being initialized - it will be later returned at the end of the method execution. The next thing is connecting to the database by executing the&nbsp; <strong>Connect</strong> &nbsp;method of the <strong>MediaDatabase</strong> . This will open the database connection and&nbsp;it will enable the possibility to search for the files. To filter out only the audio files we have to create the <strong>SelectArguments</strong> with proper filter expression which later will be passed to the <strong>MediaDatabase</strong> . We set the <strong><em>FilterExpression</em></strong> property of the <strong>SelectArguments</strong> equal to <em>“MEDIA_TYPE = ” + TYPE_MUSIC</em> which is basically the query filtering out only the files with MEDIA<em>TYPE equal to ” _3</em> ” (audio files). Later the <strong>MediaInfoCommand</strong> is being created in the <strong>MediaDatabase</strong> &nbsp;and there is variable <strong><em>selectedMedia</em></strong> being introduced which takes the <strong>MediaDataReader</strong> &nbsp;to which <strong><em>selectedArgs</em></strong> is being passed, so only audio files is being filtered and later in the while loop during reading the result from <strong>MediaDataReader</strong> we are able to take the info about this files. As you can see we are adding items to the <strong><em>tracklist</em></strong> &nbsp;by passing the current <strong><em>selectedMedia</em></strong> &nbsp;to <strong>MediaInfoToTrack</strong> method which we will implement in a next snippet. Basically it takes the metadata of a file stored in&nbsp; <strong>MediaInfo</strong> / <strong>AudioInfo</strong> and it creates <strong>Track</strong> &nbsp;based on passed object. Our implementation also catches each <strong>Exception</strong> &nbsp;and it prints the Message from the exception to the <strong>Log</strong> &nbsp;under the tag specified in the <strong><em>SAMPLE_LOG_TAG</em></strong> constant. After all of the above operations method disconnects from the database and returns the <strong><em>tracklist</em></strong> &nbsp;which now is filled with <strong>Track</strong> objects. Now let’s implement missing&nbsp; <strong>MediaInfoToTrack</strong> method.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>MusicContentService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 504px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Converts 'AudioInfo' object to 'Track' object.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">audioInfo</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">'AudioInfo' object which is to be converted.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">Created 'Track' object.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MediaInfoToTrack</span><span style="color: #999">(</span><span style="color: #000">AudioInfo</span><span style="color: #BBBBBB"> </span><span style="color: #000">audioInfo</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">MetadataEditor</span><span style="color: #BBBBBB"> </span><span style="color: #000">metadataEditor</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">MetadataEditor</span><span style="color: #999">(</span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">pictureCount</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">metadataEditor</span><span style="color: #999">.</span><span style="color: #000">PictureCount</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">byte</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">art</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">pictureCount</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">Artwork</span><span style="color: #BBBBBB"> </span><span style="color: #000">artwork</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">metadataEditor</span><span style="color: #999">.</span><span style="color: #DD4A68">GetPicture</span><span style="color: #999">(</span><span style="color: #905">0</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">art</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">artwork</span><span style="color: #999">.</span><span style="color: #000">Data</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Title</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Artist</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Album</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">art</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">audioInfo</span><span style="color: #999">.</span><span style="color: #000">Duration</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>As you can see this method takes the <strong>AudioInfo</strong> as an argument and later it creates the <strong>MetadataEditor</strong> &nbsp;object initialized with <strong><em>Path</em></strong> of the <strong><em>audioInfo</em></strong> . It takes the number of assigned pictures to the file and creates byte array which is set to <em>null</em> .&nbsp;Byte array is later used for assigning the first artwork from the file if number of the pictures assigned is bigger than 0. At the end it returns the new <strong>Track</strong> object with properties corresponding to the properties of the file.</p>
<p>Actually it is the end of the implementation of the <strong>MusicContentService</strong> , however to use it inside the shared part of the project we have to complete few more things. First is to implement some methods inside the <strong>PlayerModel</strong> , so it can utilize the service methods and work as proxy between the service and the ViewModel, to do that just&nbsp;let’s go to the next step!</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="v-player">V. Player</h1><h2 id="2-usage-of-the-musiccontentservice-playermodel">2. Usage of the MusicContentService (PlayerModel)</h2>
<p><strong>PlayerModel</strong> &nbsp;will allow to handle all of the things related to providing the information about the tracks and managing the player. Also it&nbsp;will allow to control the player from the other classes (in our case from the <strong>MainViewModel</strong> ). Firstly,&nbsp;we will implement usage of the <strong>MusicContentService</strong> &nbsp;to load the information about the tracks to the <strong>PlayerModel</strong> and to display this information on&nbsp;the <strong>SoundtrackListPage</strong> .</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 112px; top: 364px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 56px; top: 756px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Instance of music content service.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">IMusicContentService</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicContentService</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Collection of loaded tracks.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #A67F59">&lt;</span><span style="color: #000">Track</span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayerModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicContentService</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">DependencyService</span><span style="color: #999">.</span><span style="color: #DD4A68">Get</span><span style="color: #999">&lt;</span><span style="color: #000">IMusicContentService</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Tracks</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicContentService</span><span style="color: #999">.</span><span style="color: #DD4A68">GetTracksFromDevice</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We define the field <strong><em>_musicContentService</em></strong> &nbsp;which&nbsp;later in constructor is being initialized through the <strong>DependencyService</strong> &nbsp;which provides the correct implementation of the <strong>IMusicContentService</strong> for the current system platform. From now on,&nbsp; <strong>MusicContentService</strong> &nbsp;is ready to use in the <strong>PlayerModel</strong> , so as a first thing we assign the result of the <strong>GetTracksFromDevice()</strong> &nbsp;method from the service to the <strong><em>Tracks</em></strong> &nbsp;property defined before. <strong><em>Tracks</em></strong> property now holds&nbsp;all of the information about the tracks stored on the device. However, to display this information on the <strong>SoundtracksListPage</strong> we have to make few improvements inside <strong>MainViewModel</strong> .</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 532px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 980px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Current player model.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerModel</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">List</span><span style="color: #A67F59">&lt;</span><span style="color: #000">Track</span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">Tracks</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_navigation</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">DependencyService</span><span style="color: #999">.</span><span style="color: #DD4A68">Get</span><span style="color: #999">&lt;</span><span style="color: #000">IViewNavigation</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">Title</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Artist</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">Album</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #999">"</span><span style="color: #690">somepath</span><span style="color: #999">"</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerModel</span><span style="color: #999">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">TrackProgress</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0.4</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">TrackPlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">InitCommands</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>We have created the new field <strong><em>_playerModel</em></strong> &nbsp;which is supposed to be the instance of the <strong>PlayerModel</strong> class. <strong>PlayerModel</strong> &nbsp;is now able to provide the tracks which are present on the device and it provides it through <strong><em>Tracks</em></strong> property, so we are now&nbsp;returning the list of tracks from the <strong><em>_playerModel</em></strong> &nbsp;on <strong>MainViewModels</strong> &nbsp; <strong><em>Tracks</em></strong> property getter. Because our <strong><em>Tracks</em></strong> property is now returning the <strong><em>Tracks</em></strong> property of a <strong>PlayerModel</strong> , we can delete the initialization of the <strong><em>Tracks</em></strong> inside the constructor of a ViewModel and instead of that we can just initialize the <strong><em>_musicPlayerModel</em></strong> field.</p>
<p>After buidling and launching the project on the device you will see nothing on the list, but don’t worry! It is caused by lack of any audio files on your device storage. So let’s upload some tracks on the device! To achieve that perform the following steps:</p>
<p>Now files should be present on the emulator storage and visible in the MusicPlayer application.</p>
<img src="/TizenSchool/assets/images/tutorials/108/player_model_music_content_service.png" style="height:480px; width:853px">
</div><div class="chapter" style="display: none;"><div></div><h1 id="v-player">V. Player</h1><h2 id="3-selecting-the-current-track">3. Selecting the current track</h2>
<p>Now as we have the actual tracks listed on the <strong>SoundtracksListPage</strong> , we can implement selecting the current track. <strong>ScrollableGrid</strong> custom control already provides the property which allows to bind own&nbsp; <strong>Command</strong> &nbsp;to, so let’s add this command to our ViewModel.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 644px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 784px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Command which sets as current track selected track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">ICommand</span><span style="color: #BBBBBB"> </span><span style="color: #000">SelectTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #999">{</span><span style="color: #BBBBBB"> </span><span style="color: #000">get</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span><span style="color: #999">;</span><span style="color: #BBBBBB"> </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes commands.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">InitCommands</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">SelectTrackCommand</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Command</span><span style="color: #999">&lt;</span><span style="color: #07A">int</span><span style="color: #999">&gt;(</span><span style="color: #000">ExecuteSelectTrack</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "SelectTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">index</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Index of the selected track.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">ExecuteSelectTrack</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">SetTrack</span><span style="color: #999">(</span><span style="color: #000">index</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">true</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We create the property which will represent our <strong>Command</strong> &nbsp;and later we initialize it with the <strong>ExecuteSelectTrack</strong> method taking the integer as parameter ( <strong>ScrollableGrid</strong> &nbsp;on item selection passes and index of the item in the list). Method executes <strong>SetTrack</strong> method of a <strong>PlayerModel</strong> which is not implemented yet, so we have to create this method now.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 336px; top: 420px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 112px; top: 784px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 140px; top: 1204px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 1456px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #000">_currentTrack</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_currentTrack</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_currentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">CurrentTrackChanged</span><span style="color: #A67F59">?</span><span style="color: #999">.</span><span style="color: #DD4A68">Invoke</span><span style="color: #999">(</span><span style="color: #07A">this</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #999">());</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event invoked when current track is changed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">event</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventHandler</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrackChanged</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayerModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">[</span><span style="color: #905">0</span><span style="color: #999">];</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Changes current track to track with certain index in the tracklist.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">index</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Index in the tracklist.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">play</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Indicates if player should start playback.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetTrack</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">play</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">[</span><span style="color: #000">index</span><span style="color: #999">];</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong>SetTrack</strong> &nbsp;method is supposed to set the current track (and later also load it to the player and start playing if second argument is&nbsp; <em>true</em> ). That’s why we have added the <strong>_currentTrack</strong> backing field, because later we are using it inside getter and setter of <strong><em>CurrentTrack</em></strong> property. We also initialized the <strong><em>CurrentTrack</em></strong> with empty values and if there is any track in the <strong><em>Tracks</em></strong> then we set <strong><em>CurrentTrack</em></strong> to the first <strong><em>Track</em></strong> in the list. We have also added an event&nbsp; <strong><em>CurrentTrackChanged</em></strong> &nbsp;which is later fired each time when <strong><em>CurrentTrack</em></strong> is being set. This is for informing the ViewModel about changing the <strong><em>CurrentTrack</em></strong> property, so it can update its own properties and it can&nbsp;reflect the change on the View. We have to handle this event in the <strong>MainViewModel</strong> .</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 84px; top: 280px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 756px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 952px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">CurrentTrack</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">CurrentTrackChanged</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnCurrentTrackChanged</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles an event of changing the current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">eventArgs</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnCurrentTrackChanged</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">eventArgs</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">OnPropertyChanged</span><span style="color: #999">(</span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">CurrentTrack</span><span style="color: #999">));</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We have to change the getter of the <strong><em>CurrentTrack</em></strong> property to provide the data stored in the <strong>PlayerModel</strong> . That’s the reason for which we can delete the initialization of the <strong><em>CurrentTrack</em></strong> from the <strong>MainViewModel</strong> constructor. We also set, in the constructor, the handler for the <strong><em>CurrentTrackChanged</em></strong> event fired by <strong>PlayerModel</strong> . The handler <strong>CurrentTrackChanged</strong> just executes <strong>OnPropertyChanged</strong> for the <strong><em>CurrentTrack</em></strong> property. This ensures that data displayed on the view is up to date with the data inside the <strong><em>_musicPlayerModel</em></strong> object. There is still one more thing to add. We haven’t binded <strong><em>Command</em></strong> property of the <strong>ScrollableGrid</strong> &nbsp;to <strong><em>SelectTrackCommand</em></strong> of a <strong>MainViewModel</strong> . So let’s just add this.</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 364px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #690">Rows</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">4</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">ItemsSource</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Tracks}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">3</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.RowSpan</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">2</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">WidthOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">570</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">SpaceBetweenColumns</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">25</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">HeightOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">134</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding SelectTrackCommand}</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            ...</span></span>
<span class="line"><span style="color: #BBBBBB">         </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>Now after building and launching the the application you will be able to select the track from the soundtracks list and you will see that the information about the current track at the left side of the screen is being updated. You will also see the covers assigned to the tracks, because we have done everything what was required to add this feature&nbsp;before ( <strong>Image <em>Source</em></strong> ** property is binded to the *<strong>Artwork</strong>_ property of the _**CurrentTrack*** and passed through converter).</p>
<img src="/TizenSchool/assets/images/tutorials/108/selecting_track_soundtracklists_page.png" style="height:480px; width:853px">
<p>As we have only one ViewModel which is common for <strong>SoundtracksListPage</strong> and <strong>PreviewPage</strong> &nbsp;the current track is also updated on&nbsp;the <strong>Preview Page</strong> .</p>
<img src="/TizenSchool/assets/images/tutorials/108/selecting_track_preview_page.png" style="height:480px; width:853px">
<p>So while we can list the tracks present on the device and we can select the current track let’s now try to play these&nbsp;tracks!</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="v-player">V. Player</h1><h2 id="4-player-service">4. Player Service</h2>
<p>As we now have all of the information about the tracks stored on the device, we are ready to play them. To achieve that we have to implement methods of the <strong>IPlayerService</strong> inside <strong>PlayerService</strong> of the native part of the project and this methods will be accessible through the object given by the <strong>DependencyService</strong> in the shared part of the project. Few things are already present inside the <strong>PlayerService</strong> , but they are not yet implemented, so as a first thing let’s add few fields.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 140px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 140px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> An instance of TizenFX API player.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles actual playback operations.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">Player</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Snapshot of the playback state.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Used to determine if state was changed since last check (change event invoking).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">_lastPlayState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>_player</em></strong> field is an instance of the <strong>Player</strong> &nbsp;from Tizen.Multimedia API. Using this object will allow to load and play the music as well as managing the play/pause functionality and seeking the playback position.&nbsp;The <strong><em>_lastPlayState</em></strong> &nbsp;is used for remembering the last state of the player ( <em>true</em> &nbsp;if player is playing the audio or&nbsp; <em>false</em> &nbsp;if it is paused). It is also returned in the <strong><em>Playing</em></strong> &nbsp;property getter&nbsp;which defines if player is currently playing or not.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 336px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">Playing</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_lastPlayState</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlaybackPosition</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">State</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerState</span><span style="color: #999">.</span><span style="color: #000">Idle</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&amp;&amp;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">State</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerState</span><span style="color: #999">.</span><span style="color: #000">Preparing</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">GetPlayPosition</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>PlaybackPosition</em></strong> property has quite more complex getter, but the idea is simple. It returns the playback position in milliseconds (taken from the <strong>Player</strong> object) if player is not in the <em>Idle</em> state and if it is not currently preparing. Otherwise it gives 0. This property will be later used inside the <strong>MainViewModel</strong> to update the progress of the <strong><em>CurrentTrack</em></strong> . Next we will initialize the <strong><em>_player</em></strong> inside the constructor.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 252px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes a new instance of the service class.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayerService</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Player</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackCompleted</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerOnPlaybackCompleted</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We also assign&nbsp;the handler for the <strong><em>PlaybackCompleted</em></strong> event of the <strong>Player</strong> , so let’s add the body of this handler.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 308px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles playback completion event from internal player (TizenFX API).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Updates playback state and invokes own (class) playback completion event.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event sender.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">eventArgs</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayerOnPlaybackCompleted</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">eventArgs</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">PlaybackCompleted</span><span style="color: #A67F59">?</span><span style="color: #999">.</span><span style="color: #DD4A68">Invoke</span><span style="color: #999">(</span><span style="color: #07A">this</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #999">());</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>As you can see this handler executes <strong>CheckPlayStateChange</strong> , which we will implement soon and it fires the&nbsp; <strong><em>PlaybackCompleted</em></strong> event, so the objects which subscribed for it are informed that the playback of the track is finished.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 364px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Checks if playback state (internal player) has changed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> If so, it updates state snapshot and invokes state change event.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">playing</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">State</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerState</span><span style="color: #999">.</span><span style="color: #000">Playing</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_lastPlayState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #000">playing</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_lastPlayState</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">playing</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">PlayStateChanged</span><span style="color: #A67F59">?</span><span style="color: #999">.</span><span style="color: #DD4A68">Invoke</span><span style="color: #999">(</span><span style="color: #07A">this</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #999">());</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong>CheckPlayStateChange</strong> method checks if the current state of the <strong>Player</strong> from the Tizen.Multimedia API *<strong>_ is equal to _</strong>Playing<strong>_ and if it is other than the state of a player remembered in the _</strong>_lastPlayState<strong>_ &nbsp;then the _</strong>_lastPlayState*** is changed to <em>true</em> &nbsp;if player is currently playing or <em>false</em> if it is in the other state. Also the *<strong>PlayStateChanged</strong>* is being invoked, so the other objects are being informed that the state of a **Player** is changed. The next thing which we are going to implement is the method which will load the audio to the player and will start the playback if&nbsp;it is specified in the method arguments.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 840px; top: 476px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Asynchronously loads specified audio file (by path) into player.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> The playback can be automatically started by setting "play" parameter (false by default).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">path</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Path to the audio file.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">play</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Indicates if playback should be automatically started as soon as file is loaded.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> A task that represents the asynchronous operation.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> The task result indicates if operation completes successfully.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">async</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #999">&lt;</span><span style="color: #07A">bool</span><span style="color: #999">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Load</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">path</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">play</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">try</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">State</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlayerState</span><span style="color: #999">.</span><span style="color: #000">Playing</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Stop</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Unprepare</span><span style="color: #999">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">IsLooping</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">SetSource</span><span style="color: #999">(</span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">MediaUriSource</span><span style="color: #999">(</span><span style="color: #999">"</span><span style="color: #690">file://</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+</span><span style="color: #BBBBBB"> </span><span style="color: #000">path</span><span style="color: #999">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">await</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">PrepareAsync</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">await</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">SetPlayPositionAsync</span><span style="color: #999">(</span><span style="color: #905">0</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">play</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Start</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">true</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">catch</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Exception</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This method is an asynchronous method, so it doesn’t block the main thread. This is required, because loading the audio file can take the long time and while we won’t make this method asynchronous one, then the UI of our application could freeze. It also returns the <strong>Task<bool></bool></strong> , which basically means that this method returns an information if the execution was successful or not. Method arguments are the path to the audio file and boolean value indicating if we want to start the playback immediately after loading the track or not. Method,&nbsp;during its execution,&nbsp;checks if player is currently in a playing state,&nbsp;if it is then it stops the player. Later it runs the <strong>Unprepare</strong> method of the <strong>Player</strong> &nbsp;which just resets the source of the player, so the previously loaded file is no longer associated with the player. Method sets the <strong><em>IsLooping</em></strong> property of the player to <em>false</em> , so the audio files won’t play in a loop, later it sets the source of the <strong>Player</strong> &nbsp;by the <strong>SetSource</strong> &nbsp;method providing as an argument the <strong>MediaUriSource</strong> &nbsp;object initialized with the path to the track given in the <strong>Load</strong> method arguments. As a next step the asynchronous method - <strong>PrepareAsync</strong> of the&nbsp; <strong>Player</strong> &nbsp;is executed which prepares the player for&nbsp;the playback. After that also asynchronous&nbsp; <strong>SetPlayPositionAsync</strong> method is executed which sets the playback position of a player to the begining of the track. If the second argument of the <strong>Load</strong> method is <em>true</em> &nbsp;then the <strong>Start</strong> method is executed and the player starts playing the loaded track. At the end <strong>Load</strong> &nbsp;runs the <strong>CheckPlayStateChange</strong> &nbsp;to update state of the player and it returns&nbsp; <em>true</em> &nbsp;because the execution was successful. If any Exception occurs during the execution then the&nbsp; <strong>CheckPlayStateChange</strong> &nbsp;is called and&nbsp; <em>false</em> &nbsp;is returned, because the method execution failed.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 140px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 140px; top: 700px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Asynchronously starts/resumes the playback.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">A task that represents the asynchronous operation.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Play</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #999">.</span><span style="color: #DD4A68">Run</span><span style="color: #999">(()</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Start</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Asynchronously pauses the playback.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">A task that represents the asynchronous operation.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Pause</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #999">.</span><span style="color: #DD4A68">Run</span><span style="color: #999">(()</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Pause</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">});</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Next two methods are the <strong>Play</strong> and <strong>Pause</strong> method. These methods runs the <strong>Play</strong> / <strong>Pause</strong> method of&nbsp;the native&nbsp; <strong>Player</strong> in the background **** by running the separate <strong>Task</strong> . After performing the operation it runs the **CheckPlayStateChange** method which updates the state of a player.</p>
<p><em>MusicPlayer.Tizen.TV/Services/ <strong>PlayerService</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 364px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Asynchronously sets position of the playback (milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">msec</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">The value indicating a desired position in milliseconds.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">A task that represents the asynchronous operation.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">async</span><span style="color: #BBBBBB"> </span><span style="color: #000">Task</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SeekTo</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">msec</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">await</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">SetPlayPositionAsync</span><span style="color: #999">(</span><span style="color: #000">msec</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">CheckPlayStateChange</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The last method which we are implementing inside the <strong>PlayerService</strong> class is the asynchronous&nbsp; <strong>SeekTo</strong> &nbsp;method which allows to set the playback position of a player to the number of milliseconds given as the method arguments. It just runs the <strong>SetPlayPositionAsync</strong> method of the native <strong>Player</strong> &nbsp;and after that it runs <strong>CheckPlayStateChange</strong> to update the information about the state of the player.</p>
<p>This is the whole implementation of the native part of the player. All of the methods implemented allow us to manage the work of the Tizen.Multimedia <strong>Player</strong> . To check out how this works again, like in the case of the <strong>MusicContentService</strong> , **** we have to implement few things inside **PlayerModel** .</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="v-player">V. Player</h1><h2 id="5-usage-of-the-playerservice-playermodel">5. Usage of the PlayerService (PlayerModel)</h2>
<p>So now let’s try to utilize the native part of the PlayerService through the <strong>PlayerModel</strong> . For now our goal is to be able to play the tracks after selecting them on the tracklist located on the <strong>SoundtracksListPage</strong> . As usual we have to add few fields to achieve the goal.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 308px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 112px; top: 448px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 112px; top: 588px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event invoked when current track is changed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">event</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventHandler</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrackChanged</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Instance of player service.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">IPlayerService</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event invoked when playback state is changed.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">event</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventHandler</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlaybackStateChanged</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Step of single seek operation (in milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">const</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">SEEK_STEP</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">5000</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>First added field is the <strong><em>_player</em></strong> field of a <strong>IPlayerService</strong> &nbsp;which will be used to represent the <strong>PlayerService</strong> of the native part of the project. Second field is an <strong>EventHandler <em>PlaybackStateChanged</em></strong> which is going to be invoked when the state of the playback is changed (based on raising an&nbsp;event&nbsp;by the <strong>PlayerService</strong> ). The last introduced field is the constant representing the number of milliseconds which the playback position is going to be moved each time when the track is being rewinded/forwarded.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 196px; top: 532px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 756px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 420px; top: 1008px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_currentTrack</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">private</span><span style="color: #BBBBBB"> </span><span style="color: #000">set</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_currentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">CurrentTrackChanged</span><span style="color: #A67F59">?</span><span style="color: #999">.</span><span style="color: #DD4A68">Invoke</span><span style="color: #999">(</span><span style="color: #07A">this</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #999">());</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Indicates if there is ongoing playback.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">Playing</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">Playing</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Current playback position (in milliseconds).</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> In case of no loaded file, 0 value is returned.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">PlaybackPosition</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackPosition</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Progress of the ongoing track as value from 0 to 1.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">double</span><span style="color: #BBBBBB"> </span><span style="color: #000">Progress</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Duration</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">double</span><span style="color: #999">)</span><span style="color: #000">PlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">/</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">double</span><span style="color: #999">)</span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Duration</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p><strong><em>Playing</em></strong> is the boolean property which at its getter just returns <strong><em>Playing</em></strong> property of the <strong>PlayerService</strong> . This enables the possibility for the ViewModel to check the current state of the player. Similarly to <strong><em>Playing</em></strong> -&nbsp; <strong><em>PlaybackPosition</em></strong> property is just returning the <strong><em>PlaybackPosition</em></strong> property of the <strong>PlayerService</strong> . The last property which we are adding to the <strong>PlayerModel</strong> is the <strong><em>Progress</em></strong> property. This will return the current progress of the track as a value between 0 and 1. Firstly, if the <strong><em>CurrentTrack</em></strong> duration is equal to 0 it means that it is at the beginning, so to avoid dividing by 0 - just 0 is being returned. In the other case the <strong><em>PlaybackPosition</em></strong> &nbsp;of a <strong>PlayerModel</strong> &nbsp;is being divided by <strong><em>Duration</em></strong> of a <strong><em>CurrentTrack</em></strong> which gives us the expected result.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 84px; top: 336px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 112px; top: 588px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayerModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicContentService</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">DependencyService</span><span style="color: #999">.</span><span style="color: #DD4A68">Get</span><span style="color: #999">&lt;</span><span style="color: #000">IMusicContentService</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Tracks</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicContentService</span><span style="color: #999">.</span><span style="color: #DD4A68">GetTracksFromDevice</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">Track</span><span style="color: #999">(</span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">null</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #999">.</span><span style="color: #000">Empty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">DependencyService</span><span style="color: #999">.</span><span style="color: #DD4A68">Get</span><span style="color: #999">&lt;</span><span style="color: #000">IPlayerService</span><span style="color: #999">&gt;();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlayStateChanged</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPlaybackStateChanged</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackCompleted</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPlaybackCompleted</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">CurrentTrack</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">[</span><span style="color: #905">0</span><span style="color: #999">];</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Load</span><span style="color: #999">(</span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #905">false</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We have to get the proper implementation of the <strong>IPlayerService</strong> from the <strong>DependencyService</strong> . Later we add the handlers for its events (we will implement them in the next snippet). We also add the condition if the <strong><em>PlaybackPosition</em></strong> of the <strong><em>_player</em></strong> is equal to 0 then we load the <strong><em>CurrentTrack</em></strong> to the <strong>Player</strong> .</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 252px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 448px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for changing the playback state of player.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnPlaybackStateChanged</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">PlaybackStateChanged</span><span style="color: #A67F59">?</span><span style="color: #999">.</span><span style="color: #DD4A68">Invoke</span><span style="color: #999">(</span><span style="color: #07A">this</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">new</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #999">());</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for completing the playback.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnPlaybackCompleted</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>When <strong>OnPlaybackStateChanged</strong> *<strong>* handler is executing we just want to inform the ViewModel that the state of the <strong>Player</strong> is changed, that’s why we are just invoking the *</strong>PlaybackStateChanged*** event of the <strong>PlayerModel</strong> . <strong>OnPlaybackCompleted</strong> &nbsp;will be implemented later, during the implementation of the **PreviewPage** buttons logic.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 392px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Changes current track to track with certain index in the tracklist.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">index</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Index in the tracklist.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">play</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Indicates if player should start playback.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetTrack</span><span style="color: #999">(</span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">play</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Load</span><span style="color: #999">(</span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">play</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The last thing inside the <strong>PlayerModel</strong> , which will make us to achieve our goal for this part of tutorial is this one line inside the <strong>SetTrack</strong> method which is being called by the handler of the <strong><em>SelectTrackCommand</em></strong> of the <strong>MainViewModel</strong> .&nbsp;This just loads the <strong><em>CurrentTrack</em></strong> which is already changed and it starts the playback if second argument of the <strong>SetTrack</strong> is <em>true</em> .</p>
<p>Now after building and running the application you will be able to listen to the tracks after selecting them, so we have achieved our goal!</p>
<img src="/TizenSchool/assets/images/tutorials/108/selecting_track_soundtracklists_page.png" style="height:480px; width:853px">

</div><div class="chapter" style="display: none;"><div></div><h1 id="vi-finishing-touches">VI. Finishing touches</h1><h2 id="1-soundtracks-list-item-template-tracklistviewcell">1. Soundtracks list item template (TrackListViewCell)</h2>
<p>What is still required to achieve our goals, regarding the <strong>SoundtracksListPage</strong> , is the appearance of the single item in the list.&nbsp;For now, it displays only the three&nbsp;labels.&nbsp;Template is specified directly inside the <strong>SoundtrackListPage</strong> xaml part. What we want to achieve is to have the item template which displays the artwork of the album (if it exists) and&nbsp;presents the title of the track as well as the artists and albums name. It will be also nice to have it in a separate part of the project, not directly inside the <strong>SoundtrackListPage</strong> xaml part.</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_item_template_zoom.PNG" style="height:447px; width:926px">
<p>Our code responsible for the appearance of the single item will be placed inside the <strong>*TrackListViewCell</strong> .xaml* .</p>
<p><em>MusicPlayer/Control/ <strong>TrackListViewCell</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 56px; top: 84px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 952px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentView</span><span style="color: #BBBBBB"> </span><span style="color: #690">xmlns</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">http://xamarin.com/schemas/2014/forms</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">xmlns</span><span style="color: #999">:</span><span style="color: #690">x</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">http://schemas.microsoft.com/winfx/2009/xaml</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Class</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">MusicPlayer.Control.TrackListViewCell</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #669900B3">x</span><span style="color: #999">:</span><span style="color: #690">Name</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Root</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">             </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#1b1b1b</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Grid.RowDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">RowDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Height</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Auto</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.RowDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Auto</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">ColumnDefinition</span><span style="color: #BBBBBB"> </span><span style="color: #690">Width</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">*</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid.ColumnDefinitions</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Artwork, Converter={StaticResource ByteArrayToImageSource},</span></span>
<span class="line"><span style="color: #07A">                   Source={x:Reference Root}, ConverterParameter='images/img_music_info_nocover.png'}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">WidthRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">134</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">HeightRequest</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">134</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                         </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Title, Source={x:Reference Root}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">55</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">20, 10, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">LineBreakMode</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">TailTruncation</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Artist, Source={x:Reference Root}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">42</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">20, 0, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">LineBreakMode</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">TailTruncation</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Album, Source={x:Reference Root}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">42</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">FontFamily</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">BreezeSans:style=Light</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">#FFFFFF</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">20, -6, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                       </span><span style="color: #690">LineBreakMode</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">TailTruncation</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">ContentView.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentView</span><span style="color: #999">&gt;</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>The above code firstly sets the property <strong><em>BackgroundColor</em></strong> of the <strong>ContentView</strong> &nbsp;to the color which we want to have in a background, it also specifies the <strong><em>x:Name</em></strong> &nbsp;to ” <em>Root</em> ”, so we can bind properties to the properties present inside the code behind part of our item view. We create a <strong>Grid</strong> inside which, in a first column and first row, we place the <strong>Image</strong> &nbsp;which <strong><em>Source</em></strong> is binded to the <strong><em>Artwork</em></strong> &nbsp;inside code behind part - which is passed through the <strong>ByteArrayToImageSourceConverter</strong> with <strong><em>ConverterParameter</em></strong> set to the path to the image of a default cover. The <strong><em>Height</em></strong> of the only row of the <strong>Grid</strong> is set to <em>Auto</em> , so that’s why we specify directly the <strong><em>Height</em></strong> and <strong><em>Width</em></strong> of the <strong>Image</strong> , so the <strong>Grid</strong> can fit the cell properly. In the second column <strong>Labels</strong> &nbsp;are being placed in the <strong>StackLayout</strong> , which <strong><em>Texts</em></strong> properties are binded to the corresponding properties inside the code behind part. There also one more property of a <strong>Label</strong> being&nbsp;set - <strong><em>LineBreakMode</em></strong> . If it is set to the <em>TailTruncation</em> it cuts the text if it doesn’t fit to the given space and it places the ”…” at the end of the label. Now let’s just add the missing properties to code behind.</p>
<p><em>MusicPlayer/Control/ <strong>TrackListViewCell</strong> .xaml.cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 252px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 392px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 644px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 924px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 1176px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 1456px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 1708px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 224px; top: 1988px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set title of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">TitleProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Title</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">TrackListViewCell</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #999">""</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets title of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Title</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">TitleProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">TitleProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set artist of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">ArtistProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Artist</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">TrackListViewCell</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #999">""</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets artist of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Artist</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">ArtistProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">ArtistProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set album of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">AlbumProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Album</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">TrackListViewCell</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #999">""</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets album of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">string</span><span style="color: #BBBBBB"> </span><span style="color: #000">Album</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">string</span><span style="color: #999">)</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">AlbumProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">AlbumProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Allows to set artwork of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">static</span><span style="color: #BBBBBB"> </span><span style="color: #07A">readonly</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #BBBBBB"> </span><span style="color: #000">ArtworkProperty</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">BindableProperty</span><span style="color: #999">.</span><span style="color: #DD4A68">Create</span><span style="color: #999">(</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">Artwork</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #07A">byte</span><span style="color: #999">[]),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #07A">typeof</span><span style="color: #999">(</span><span style="color: #000">TrackListViewCell</span><span style="color: #999">),</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #905">null</span><span style="color: #999">,</span></span>
<span class="line"><span style="color: #BBBBBB">                                        </span><span style="color: #000">BindingMode</span><span style="color: #999">.</span><span style="color: #000">OneWay</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Gets or sets artwork of the track item.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">byte</span><span style="color: #999">[]</span><span style="color: #BBBBBB"> </span><span style="color: #000">Artwork</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #07A">byte</span><span style="color: #999">[])</span><span style="color: #DD4A68">GetValue</span><span style="color: #999">(</span><span style="color: #000">ArtworkProperty</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">set</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">SetValue</span><span style="color: #999">(</span><span style="color: #000">ArtworkProperty</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">value</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This&nbsp;code creates the <strong>BindableProperties</strong> inside code behind, so we can utilize these properties inside the xaml part of the <strong>TrackListViewCell</strong> &nbsp;and we can specify the bindings later inside the <strong>SoundtracksListPage</strong> , so we will display the correct information about the tracks. Now our item template is ready to use, so let’s place it as the <strong><em>ItemTemplate</em></strong> of the <strong>ScrollableGrid</strong> .</p>
<p><em>MusicPlayer/Views/ <strong>SoundtracksListPage</strong> .xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 140px; top: 420px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #690">Rows</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">4</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">ItemsSource</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Tracks}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">3</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Grid.RowSpan</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">2</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">WidthOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">570</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">SpaceBetweenColumns</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">25</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">HeightOfItem</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">134</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding SelectTrackCommand}</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid.ItemTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;</span><span style="color: #905">DataTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                    </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">TrackListViewCell</span></span>
<span class="line"><span style="color: #BBBBBB">                        </span><span style="color: #690">Title</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Title}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                        </span><span style="color: #690">Artist</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Artist}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                        </span><span style="color: #690">Album</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Album}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                        </span><span style="color: #690">Artwork</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding Artwork}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #999">&lt;/</span><span style="color: #905">DataTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid.ItemTemplate</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>So we replace the <strong>Labels</strong> &nbsp;in the <strong><em>ItemTemplate</em></strong> &nbsp;with our <strong>TrackListViewCell</strong> with the properties binded to the corresponding properties of the <strong>Tracks</strong> present in the <strong><em>ItemSource</em></strong> of the <strong>ScrollableGrid</strong> . After rebuilding and running the application we should see the expected (and final) appearance of the Soundtracks List with the single item represented as a track cover at the left side of&nbsp;it and the information&nbsp;about the track at the right.</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_item_template.png" style="height:480px; width:853px">
</div><div class="chapter" style="display: none;"><div></div><h1 id="vi-finishing-touches">VI. Finishing touches</h1><h2 id="2-preview-page-buttons-logic">2. Preview Page buttons logic</h2>
<p>We are able to select the track which we want to play, but still we can’t control the playback and we can’t change the track from the Preview Page. That’s because of the lack of proper methods inside the <strong>PlayerModel</strong> &nbsp;and usage of these methods in the methods handling the <strong>Commands</strong> execution of the <strong>PreviewPage</strong> buttons. We will add these&nbsp;methods now, so we will enable the possibility for our player to begin to work as expected and to become fully functional.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 2128px; top: 168px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Changes track to previous.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Previous</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #DD4A68">FindIndex</span><span style="color: #999">(</span><span style="color: #000">x</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">-</span><span style="color: #BBBBBB"> </span><span style="color: #905">1</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&lt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">-</span><span style="color: #BBBBBB"> </span><span style="color: #905">1</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">index</span><span style="color: #A67F59">--</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">SetTrack</span><span style="color: #999">(</span><span style="color: #000">index</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Playing</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Seeks ongoing track backward.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Rewind</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">SeekTo</span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">-</span><span style="color: #BBBBBB"> </span><span style="color: #000">SEEK_STEP</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Plays or pauses current track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayOrPause</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">Playing</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Pause</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">Play</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Seeks ongoing track forward.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Forward</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #DD4A68">SeekTo</span><span style="color: #999">(</span><span style="color: #000">_player</span><span style="color: #999">.</span><span style="color: #000">PlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+</span><span style="color: #BBBBBB"> </span><span style="color: #000">SEEK_STEP</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Changes track to next.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">Next</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #07A">return</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #DD4A68">FindIndex</span><span style="color: #999">(</span><span style="color: #000">x</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">x</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">==</span><span style="color: #BBBBBB"> </span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Path</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+</span><span style="color: #BBBBBB"> </span><span style="color: #905">1</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&gt;=</span><span style="color: #BBBBBB"> </span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">index</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">else</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">index</span><span style="color: #A67F59">++</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">SetTrack</span><span style="color: #999">(</span><span style="color: #000">index</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">Playing</span><span style="color: #999">);</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>Let’s go through each of the implemented methods:</p>
<p>As we have all of the methods which are required to manage the playback of the tracks, before we will utilize those methods, we will add the body of the <strong>OnPlaybackCompleted</strong> method which handles the <strong><em>PlaybackCompleted</em></strong> event of the player.</p>
<p><em>MusicPlayer/Models/ <strong>PlayerModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 364px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Event handler for completing the playback.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">e</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnPlaybackCompleted</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">e</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">Next</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We just execute the <strong>Next</strong> method of the <strong>PlayerModel</strong> , because what we want to achieve is the change to the next track if the playback of the current track is completed.</p>
<p>Now let’s execute the <strong>PlayerModel</strong> ’s&nbsp;methods in the handlers of the <strong>Commands</strong> &nbsp;executed after pressing the buttons on the <strong>PreviewPage</strong> .</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 308px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 756px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1092px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1316px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1540px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1764px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1988px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 252px; top: 2128px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Determines if track is paused.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">IsPaused</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!</span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">Playing</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">PlaybackStateChanged</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">+=</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnPlaybackStateChanged</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "GoToPreviousTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GoToPreviousTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">Previous</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "RewindTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">RewindTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">Rewind</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "PlayOrPauseTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">PlayOrPauseTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">PlayOrPause</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "ForwardTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">ForwardTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">Forward</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles the execution of "GoToNextTrackCommand"</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">GoToNextTrack</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #DD4A68">Next</span><span style="color: #999">();</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Handles an event of changing the playback state of player.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">sender</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Sender of the event.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">param</span><span style="color: #708090"> </span><span style="color: #690">name</span><span style="color: #999">=</span><span style="color: #999">"</span><span style="color: #690">eventArgs</span><span style="color: #999">"</span><span style="color: #999">&gt;</span><span style="color: #708090">Event arguments.</span><span style="color: #999">&lt;/</span><span style="color: #905">param</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">void</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnPlaybackStateChanged</span><span style="color: #999">(</span><span style="color: #07A">object</span><span style="color: #BBBBBB"> </span><span style="color: #000">sender</span><span style="color: #999">,</span><span style="color: #BBBBBB"> </span><span style="color: #000">EventArgs</span><span style="color: #BBBBBB"> </span><span style="color: #000">eventArgs</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #DD4A68">OnPropertyChanged</span><span style="color: #999">(</span><span style="color: #07A">nameof</span><span style="color: #999">(</span><span style="color: #000">IsPaused</span><span style="color: #999">));</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We changed the getter of the <strong><em>IsPaused</em></strong> property to return the negation of the&nbsp; <strong>PlayerModel</strong> ’s&nbsp; <strong><em>Playing</em></strong> property. We have added also the handler for the <strong><em>PlaybackStateChanged</em></strong> event&nbsp;of the <strong>PlayerModel</strong> (which is fired when the playback state of the player changed)&nbsp;in which we perform <strong>OnPropertyChanged</strong> &nbsp;for the <strong><em>IsPaused</em></strong> property, so it informs the properties binded to <strong><em>IsPaused</em></strong> &nbsp;about the update. The <strong>Commands</strong> handlers bodies are just calling the corresponding methods which we have already implemented in the <strong>PlayerModel</strong> .</p>
<p>After running the application it is now possible to&nbsp;control the player from the <strong>PreviewPage</strong> .</p>
<img src="/TizenSchool/assets/images/tutorials/108/preview_page_buttons_logic.png" style="height:480px; width:853px">
<p>You can also notice that the indicator at the left side of the screen on the <strong>SoundtracksListPage</strong> is displaying the proper image for the current state of the player. It works, because we have binded the <strong><em>Source</em></strong> property of the <strong>Image</strong> &nbsp;to <strong><em>IsPaused</em></strong> &nbsp;property and we have passed its value through the <strong>BooleanToStringConverter</strong> before.</p>
<img src="/TizenSchool/assets/images/tutorials/108/soundtrack_list_page_final.png" style="height:480px; width:853px">
<p>So now we have almost fully functional player. What is missing is the progress bar logic and the playback position label logic.&nbsp;Let’s implement it.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="vi-finishing-touches">VI. Finishing touches</h1><h2 id="3-progress-bar-and-duration-label-logic">3. Progress bar and duration label logic</h2>
<p>As we have done almost everything before, there is not much to add to make the progress bar and the label, representing the current playback position, work We have only to update the <strong><em>TrackProgress</em></strong> property and <strong><em>TrackPlaybackPosition</em></strong> .</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 112px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 616px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 392px; top: 812px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">fields</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Frequency of updating progress of the track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">const</span><span style="color: #BBBBBB"> </span><span style="color: #07A">int</span><span style="color: #BBBBBB"> </span><span style="color: #000">UPDATE_PROGRESS_INTERVAL</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #905">100</span><span style="color: #999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">methods</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Initializes class instance.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">MainViewModel</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">Device</span><span style="color: #999">.</span><span style="color: #DD4A68">StartTimer</span><span style="color: #999">(</span><span style="color: #000">TimeSpan</span><span style="color: #999">.</span><span style="color: #DD4A68">FromMilliseconds</span><span style="color: #999">(</span><span style="color: #000">UPDATE_PROGRESS_INTERVAL</span><span style="color: #999">),</span><span style="color: #BBBBBB"> </span><span style="color: #000">OnProgressUpdateTimerTick</span><span style="color: #999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    ...</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Updates progress of the track.</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span><span style="color: #708090">Flag indicating if timer should keep recurring.</span><span style="color: #999">&lt;/</span><span style="color: #905">returns</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">private</span><span style="color: #BBBBBB"> </span><span style="color: #07A">bool</span><span style="color: #BBBBBB"> </span><span style="color: #DD4A68">OnProgressUpdateTimerTick</span><span style="color: #999">()</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">if</span><span style="color: #BBBBBB"> </span><span style="color: #999">(</span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">CurrentTrack</span><span style="color: #999">.</span><span style="color: #000">Duration</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">!=</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">)</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">TrackProgress</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">Progress</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #000">TrackPlaybackPosition</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">PlaybackPosition</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #07A">return</span><span style="color: #BBBBBB"> </span><span style="color: #905">true</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>We have to add the constant <strong><em>UPDATE_PROGRESS_INTERVAL</em></strong> which will represent the frequency in the milliseconds of updating the progress of the playback.</p>
<p>In the constructor we have to use the static method from the <strong>Device</strong> class which allows to run specified method periodically while <em>true</em> is being returned by the method. <strong>StartTimer</strong> &nbsp;method takes the <strong>TimeSpan</strong> object as a first argument, so we create the one from the milliseconds given in the constant. Second argument is the name of the method which we would like to run, so we point to the&nbsp; <strong>OnProgressUpdateTimerTick</strong> method.</p>
<p><strong>OnProgressUpdateTimerTick</strong> checks if the duration of the current track loaded by the <strong>PlayerModel</strong> is not equal to 0 (if it is then there is no need to update the progress, because the track is not loaded). We just take the <strong><em>Progress</em></strong> property from the <strong>PlayerModel</strong> and assign it to the <strong><em>TrackProgress</em></strong> of the <strong>MainViewModel</strong> (which <strong><em>Progress</em></strong> property of the <strong>ProgressBar</strong> is binded to). To update the label representing the current playback position we update the <strong><em>TrackPlaybackPosition</em></strong> with the <strong><em>PlaybackPosition</em></strong> property of the <strong>PlayerModel</strong> . At the end we return <em>true</em> to inform that we still want to run the method after the time interval specified in the <strong>StartTimer</strong> argument pass.</p>
<p>After building and launching the application and navigating to the <strong>Preview Page</strong> we will see that the progress bar and the label, indicating the playback position of the player,&nbsp;are being properly updated.</p>
<img src="/TizenSchool/assets/images/tutorials/108/_preview_page.png" style="height:480px; width:853px">
<p>It will be almost everything, but only one more thing is still missing. We have to somehow inform the user if there is no any available tracks to play. So let’s add this feature.</p>
</div><div class="chapter" style="display: none;"><div></div><h1 id="vi-finishing-touches">VI. Finishing touches</h1><h2 id="4-no-tracks-available-information">4. No tracks available information</h2>
<p>At this point we have the fully functional Music Player application. The one last thing is the nice information for the user if no tracks are present on the device so we are not able to play any track. The appearance will be like on the following screen.</p>
<img src="/TizenSchool/assets/images/tutorials/108/no_tracks_view.png" style="height:480px; width:853px">
<p>To achieve this we will show some things only if tracks are present and we will hide them if they are not. The <strong><em>IsVisible</em></strong> property of the elements will be binded to the boolean property of the <strong>MainViewModel</strong> .&nbsp;If the value of this property will be set to <em>true</em> , then the elements will become visible. If we want to hide some of them when&nbsp;the value is <em>true</em> , then it is the place to use the <strong>NegateBooleanConverter</strong> created before - converter which&nbsp;just inverts the boolean value. Let’s add this property.</p>
<p><em>MusicPlayer/ViewModels/ <strong>MainViewModel</strong> .cs</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 196px; top: 112px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">#</span><span style="color: #07A">region</span><span style="color: #BBBBBB"> </span><span style="color: #690">properties</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> Determines if there are any tracks available</span></span>
<span class="line"><span style="color: #999">///</span><span style="color: #708090"> </span><span style="color: #999">&lt;/</span><span style="color: #905">summary</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #07A">public</span><span style="color: #BBBBBB"> </span><span style="color: #000">bool</span><span style="color: #BBBBBB"> </span><span style="color: #000">TracksAvailable</span></span>
<span class="line"><span style="color: #999">{</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #000">get</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">=&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #000">_musicPlayerModel</span><span style="color: #999">.</span><span style="color: #000">Tracks</span><span style="color: #999">.</span><span style="color: #000">Count</span><span style="color: #BBBBBB"> </span><span style="color: #A67F59">&gt;</span><span style="color: #BBBBBB"> </span><span style="color: #905">0</span><span style="color: #999">;</span></span>
<span class="line"><span style="color: #999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999">#</span><span style="color: #07A">endregion</span></span>
<span class="line"></span>
<span class="line"><span style="color: #BBBBBB">...</span></span></code></pre>
              <div>
            </div></div></div></body>
<p>This property consists of the getter which returns the boolean value from the expression checking if number of the elements inside the <strong><em>Tracks</em></strong> property of the <strong>PlayerModel</strong> is larger than 0, so we get the information if there are any tracks available to play. Now we have just to add few elements inside the <strong>SoundtracksListPage</strong> and to utilize this new property.</p>
<p>*MusicPlayer/Views/ <strong>SoundtracksListPage*</strong> <em>.xaml</em></p>

<body><div class="mt-2 mb-5">
              <div class="h-12 code-block-bar">
                <div class="copy-btn"></div>
              </div>
              <div class="relative">
                
                        <div style="height: 28px; top: 252px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 364px; top: 280px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 812px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 280px; top: 1008px" class="absolute inset-x-0 code-highlight"></div>
                        <div style="height: 28px; top: 1344px" class="absolute inset-x-0 code-highlight"></div>
                <pre is:raw="" class="astro-code" style="background-color: #f5f2f0; overflow-x: auto;"><code><span class="line"><span style="color: #999">&lt;</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding IsPaused, Converter={StaticResource BooleanToString},</span></span>
<span class="line"><span style="color: #07A">                                    ConverterParameter={StaticResource ImageArray}}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">IsVisible</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/Rectangle.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Center</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">IsVisible</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable, Converter={StaticResource NegateBoolean}}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Image</span><span style="color: #BBBBBB"> </span><span style="color: #690">Source</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">images/_icon_no-file.png</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">Margin</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">132, 106, 0, 0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">VerticalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Start</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">HorizontalOptions</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Start</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">               </span><span style="color: #690">IsVisible</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable, Converter={StaticResource NegateBoolean}}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">Button</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Command</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding GoToPreviewPageCommand}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">BackgroundColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">BorderColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Transparent</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">Opacity</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0.5</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                </span><span style="color: #690">IsEnabled</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable}</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">1</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding CurrentTrack.Title}</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   ... </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">StackLayout</span><span style="color: #BBBBBB"> </span><span style="color: #690">Grid.Row</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">Grid.Column</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">3</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                     </span><span style="color: #690">IsVisible</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable, Converter={StaticResource NegateBoolean}}</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">No music file</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">85</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">TextColor</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">White</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            </span><span style="color: #999">&lt;</span><span style="color: #905">Label</span><span style="color: #BBBBBB"> </span><span style="color: #690">Text</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">Unavailable to play</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">FontSize</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">50</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                   </span><span style="color: #690">Opacity</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">0.6</span><span style="color: #999">"</span><span style="color: #BBBBBB"> </span><span style="color: #999">/&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">StackLayout</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #BBBBBB"> </span><span style="color: #690">Rows</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">4</span><span style="color: #999">"</span></span>
<span class="line"><span style="color: #BBBBBB">                                 ...</span></span>
<span class="line"><span style="color: #BBBBBB">                                 </span><span style="color: #690">IsVisible</span><span style="color: #BBBBBB">=</span><span style="color: #999">"</span><span style="color: #07A">{Binding TracksAvailable}</span><span style="color: #999">"</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">            ...</span></span>
<span class="line"><span style="color: #BBBBBB">        </span><span style="color: #999">&lt;/</span><span style="color: #905">controls</span><span style="color: #999">:</span><span style="color: #905">ScrollableGrid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #BBBBBB">    </span><span style="color: #999">&lt;/</span><span style="color: #905">Grid</span><span style="color: #999">&gt;</span></span>
<span class="line"><span style="color: #999">&lt;/</span><span style="color: #905">ContentPage.Content</span><span style="color: #999">&gt;</span></span>
<span class="line"></span></code></pre>
              <div>
            </div></div></div></body>
<p>So we have added few elements (semi-transparent black rectangle over the track cover, no tracks available icon and labels informing about no tracks available to play). Things which we want to be visible, when the value of the <strong><em>TracksAvailable</em></strong> property is <em>true</em> &nbsp;(which means that there are some audio files on the device) have the <strong><em>IsVisible</em></strong> property binded to this property without the converter, however elements which are only visible, when there are no tracks,&nbsp;have the <strong><em>IsVisible</em></strong> property binded with use of the <strong>NegateBooleanConverter</strong> . Also the <strong>Button</strong> , which navigates to the <strong>PreviewPage</strong> &nbsp;has the <strong><em>IsEnabled</em></strong> property binded to <strong><em>TracksAvailable</em></strong> , so if the <strong><em>TracksAvailable</em></strong> is equal to&nbsp; <em>false</em> , we don’t want to navigate to the <strong>PreviewPage</strong> , that’s why the <strong>Button</strong> becomes disabled and it is not possible to press it.</p>
<p>To check if everything is working properly and if the information about the no available tracks to play is visible, we have to delete the audio files from the device.</p>
<p>Let’s perform the following steps:</p>
<p>Now, after running the application you will see the information about no available tracks.</p>
<p>That was the last element to implement in our appliaction. Now we have fully functional player&nbsp;with possibility to list the information about the tracks&nbsp;stored on the device with the artworks assigned and the ability to play&nbsp;audio files as well as control their playback.</p></div></div></astro-slot></div>
<div class="flex justify-center items-center h-12">
<div class="
    h-[30px] w-[30px] rounded-full bg-arrow 
    bg-[position:12px_7px] 
    bg-[size:8px] 
    bg-no-repeat
    rotate-180
    last:rotate-0
    border border-[#dfdfdf] bg-arrow-page-grey
  "></div>
<span class="font-extrabold w-28 text-center text-xl text-tutorial">1/22</span>

<div class="
    h-[30px] w-[30px] rounded-full bg-arrow 
    bg-[position:12px_7px] 
    bg-[size:8px] 
    bg-no-repeat
    rotate-180
    last:rotate-0
    bg-primary bg-arrow hover:bg-[#2aa29e] cursor-pointer
  "></div></div></astro-island>
    <div class="h-24 bg-gray-100">
      <div class="flex items-center h-full w-[1180px] mx-auto pl-2 text-lg border-t-4 border-primary">
        ©2023
        <span class="font-bold">Tizen School <a class="text-sm font-light underline text-blue-600 pl-1" href="https://github.com/Samsung/TizenSchool/commit/642c4c04779a63be966fa6579cbe2e444ddde584">642c4c04779a63be966fa6579cbe2e444ddde584</a>
        </span>
      </div>
    </div>
  </body>
</html>

